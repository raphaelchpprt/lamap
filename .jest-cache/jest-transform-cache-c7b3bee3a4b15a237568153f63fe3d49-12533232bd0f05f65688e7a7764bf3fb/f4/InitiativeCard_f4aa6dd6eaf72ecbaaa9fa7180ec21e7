f71cfe21a470724118194e75cc14d6d8
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, // ================================
// COMPOSANT PRINCIPAL
// ================================
"default", {
    enumerable: true,
    get: function() {
        return InitiativeCard;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _lucidereact = require("lucide-react");
const _image = /*#__PURE__*/ _interop_require_default(require("next/image"));
const _react = require("react");
const _initiative = require("../../types/initiative");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// ================================
// UTILITIES
// ================================
/**
 * Format distance as readable text
 */ function formatDistance(meters) {
    if (meters < 1000) {
        return `${Math.round(meters)} m`;
    }
    return `${(meters / 1000).toFixed(1)} km`;
}
/**
 * Determine if initiative is currently open
 */ function isOpenNow(openingHours) {
    if (!openingHours) return false;
    const now = new Date();
    const day = now.toLocaleDateString('fr-FR', {
        weekday: 'long'
    }).toLowerCase();
    const currentTime = now.toTimeString().slice(0, 5); // HH:MM
    const dayMapping = {
        lundi: 'monday',
        mardi: 'tuesday',
        mercredi: 'wednesday',
        jeudi: 'thursday',
        vendredi: 'friday',
        samedi: 'saturday',
        dimanche: 'sunday'
    };
    const mappedDay = dayMapping[day];
    if (!mappedDay) return false;
    const todayHours = openingHours[mappedDay];
    if (!todayHours) return false;
    return currentTime >= todayHours.open && currentTime <= todayHours.close;
}
/**
 * Format opening hours for display
 */ function formatOpeningHours(openingHours) {
    if (!openingHours) return 'Hours not provided';
    const days = [
        'monday',
        'tuesday',
        'wednesday',
        'thursday',
        'friday',
        'saturday',
        'sunday'
    ];
    const dayNames = [
        'Lun',
        'Mar',
        'Mer',
        'Jeu',
        'Ven',
        'Sam',
        'Dim'
    ];
    const hoursText = days.map((day, index)=>{
        const hours = openingHours[day];
        if (!hours) return `${dayNames[index]}: Fermé`;
        return `${dayNames[index]}: ${hours.open}-${hours.close}`;
    }).join('\n');
    return hoursText;
}
// ================================
// COMPOSANTS
// ================================
/**
 * Badge de type d'initiative
 */ function TypeBadge({ type }) {
    const color = _initiative.INITIATIVE_COLORS[type];
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
        className: "inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium text-white",
        style: {
            backgroundColor: color
        },
        children: type
    });
}
/**
 * Badge de vérification
 */ function VerifiedBadge({ verified }) {
    if (!verified) return null;
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-md",
        title: "Initiative v\xe9rifi\xe9e par l'\xe9quipe LaMap",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Check, {
                size: 12
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                children: "V\xe9rifi\xe9e"
            })
        ]
    });
}
/**
 * Informations de contact rapide
 */ function QuickContact({ initiative }) {
    const hasContact = initiative.phone || initiative.email || initiative.website;
    if (!hasContact) return null;
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "flex items-center gap-2 text-sm text-gray-600",
        children: [
            initiative.phone && /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                href: `tel:${initiative.phone}`,
                className: "flex items-center gap-1 hover:text-primary-600 transition-colors",
                title: "Appeler",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Phone, {
                    size: 14
                })
            }),
            initiative.email && /*#__PURE__*/ (0, _jsxruntime.jsx)("a", {
                href: `mailto:${initiative.email}`,
                className: "flex items-center gap-1 hover:text-primary-600 transition-colors",
                title: "Envoyer un email",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Mail, {
                    size: 14
                })
            }),
            initiative.website && /*#__PURE__*/ (0, _jsxruntime.jsxs)("a", {
                href: initiative.website,
                target: "_blank",
                rel: "noopener noreferrer",
                className: "flex items-center gap-1 hover:text-primary-600 transition-colors",
                title: "Visiter le site web",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Globe, {
                        size: 14
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.ExternalLink, {
                        size: 12
                    })
                ]
            })
        ]
    });
}
function InitiativeCard({ initiative, variant = 'card', className = '', distance, onClick, showActions = false, onEdit, onDelete }) {
    const [imageError, setImageError] = (0, _react.useState)(false);
    const [showFullDescription, setShowFullDescription] = (0, _react.useState)(false);
    // Classes CSS selon le variant
    const variantClasses = {
        card: 'bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 overflow-hidden',
        popup: 'bg-white rounded-lg shadow-lg overflow-hidden max-w-sm',
        list: 'bg-white rounded-md border border-gray-200 hover:border-gray-300 transition-colors',
        detailed: 'bg-white rounded-lg shadow-sm border border-gray-200'
    };
    const containerClass = `${variantClasses[variant]} ${className}`;
    // Gestion du clic
    const handleClick = ()=>{
        if (onClick) {
            onClick(initiative);
        }
    };
    // Texte de description tronqué
    const description = initiative.description || '';
    const truncatedDescription = description.length > 120 && !showFullDescription ? `${description.slice(0, 120)}...` : description;
    const isOpen = isOpenNow(initiative.opening_hours);
    // ================================
    // VARIANT LIST
    // ================================
    if (variant === 'list') {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: containerClass,
            onClick: handleClick,
            role: onClick ? 'button' : undefined,
            tabIndex: onClick ? 0 : undefined,
            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "p-4",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex items-start justify-between",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex-1 min-w-0",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center gap-2 mb-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(TypeBadge, {
                                            type: initiative.type
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(VerifiedBadge, {
                                            verified: initiative.verified
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                    className: "text-lg font-semibold text-gray-900 truncate",
                                    children: initiative.name
                                }),
                                initiative.address && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center gap-1 mt-1 text-sm text-gray-600",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.MapPin, {
                                            size: 14
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "truncate",
                                            children: initiative.address
                                        }),
                                        distance && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                            className: "ml-2 text-primary-600 font-medium",
                                            children: [
                                                "• ",
                                                formatDistance(distance)
                                            ]
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(QuickContact, {
                            initiative: initiative
                        })
                    ]
                })
            })
        });
    }
    // ================================
    // VARIANT POPUP
    // ================================
    if (variant === 'popup') {
        return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: containerClass,
            children: [
                initiative.image_url && !imageError && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "relative h-32 w-full",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_image.default, {
                        src: initiative.image_url,
                        alt: initiative.name,
                        fill: true,
                        className: "object-cover",
                        onError: ()=>setImageError(true)
                    })
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "p-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-start justify-between mb-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(TypeBadge, {
                                    type: initiative.type
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(VerifiedBadge, {
                                    verified: initiative.verified
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                            className: "text-lg font-semibold text-gray-900 mb-2",
                            children: initiative.name
                        }),
                        initiative.address && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center gap-1 mb-2 text-sm text-gray-600",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.MapPin, {
                                    size: 14
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    children: initiative.address
                                })
                            ]
                        }),
                        distance && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "text-sm text-primary-600 font-medium mb-2",
                            children: [
                                "\xc0 ",
                                formatDistance(distance)
                            ]
                        }),
                        description && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-sm text-gray-600 mb-3",
                            children: truncatedDescription
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(QuickContact, {
                            initiative: initiative
                        })
                    ]
                })
            ]
        });
    }
    // ================================
    // VARIANT CARD & DETAILED
    // ================================
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: containerClass,
        onClick: handleClick,
        role: onClick ? 'button' : undefined,
        tabIndex: onClick ? 0 : undefined,
        children: [
            initiative.image_url && !imageError && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "relative h-48 w-full",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_image.default, {
                        src: initiative.image_url,
                        alt: initiative.name,
                        fill: true,
                        className: "object-cover",
                        onError: ()=>setImageError(true)
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "absolute top-3 left-3 flex gap-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(TypeBadge, {
                                type: initiative.type
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(VerifiedBadge, {
                                verified: initiative.verified
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "p-4",
                children: [
                    (!initiative.image_url || imageError) && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center justify-between mb-3",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(TypeBadge, {
                                type: initiative.type
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(VerifiedBadge, {
                                verified: initiative.verified
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                        className: "text-xl font-semibold text-gray-900 mb-2",
                        children: initiative.name
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "space-y-2 mb-3",
                        children: [
                            initiative.address && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center gap-2 text-sm text-gray-600",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.MapPin, {
                                        size: 16,
                                        className: "flex-shrink-0"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        children: initiative.address
                                    })
                                ]
                            }),
                            distance && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "text-sm text-primary-600 font-medium",
                                children: [
                                    "\xc0 ",
                                    formatDistance(distance)
                                ]
                            })
                        ]
                    }),
                    description && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "mb-4",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-sm text-gray-600 leading-relaxed",
                                children: truncatedDescription
                            }),
                            description.length > 120 && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: (e)=>{
                                    e.stopPropagation();
                                    setShowFullDescription(!showFullDescription);
                                },
                                className: "text-sm text-primary-600 hover:text-primary-700 mt-1",
                                children: showFullDescription ? 'Voir moins' : 'Voir plus'
                            })
                        ]
                    }),
                    variant === 'detailed' && initiative.opening_hours && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "mb-4",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center gap-2 mb-2",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_lucidereact.Clock, {
                                        size: 16,
                                        className: "text-gray-400"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-sm font-medium text-gray-700",
                                        children: "Horaires"
                                    }),
                                    isOpen && /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",
                                        children: "Ouvert"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("pre", {
                                className: "text-xs text-gray-600 whitespace-pre-line",
                                children: formatOpeningHours(initiative.opening_hours)
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center justify-between",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(QuickContact, {
                                initiative: initiative
                            }),
                            showActions && (onEdit || onDelete) && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center gap-2",
                                children: [
                                    onEdit && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                        onClick: (e)=>{
                                            e.stopPropagation();
                                            onEdit(initiative);
                                        },
                                        className: "text-sm text-blue-600 hover:text-blue-700 px-2 py-1 rounded",
                                        children: "\xc9diter"
                                    }),
                                    onDelete && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                        onClick: (e)=>{
                                            e.stopPropagation();
                                            onDelete(initiative);
                                        },
                                        className: "text-sm text-red-600 hover:text-red-700 px-2 py-1 rounded",
                                        children: "Supprimer"
                                    })
                                ]
                            })
                        ]
                    }),
                    variant === 'detailed' && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "mt-4 pt-4 border-t border-gray-200 text-xs text-gray-500",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex justify-between",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                    children: [
                                        "Ajout\xe9 le",
                                        ' ',
                                        new Date(initiative.created_at).toLocaleDateString('fr-FR')
                                    ]
                                }),
                                initiative.updated_at !== initiative.created_at && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                    children: [
                                        "Modifi\xe9 le",
                                        ' ',
                                        new Date(initiative.updated_at).toLocaleDateString('fr-FR')
                                    ]
                                })
                            ]
                        })
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9SYXBoYWVsL0RvY3VtZW50cy9ERVYubm9zeW5jL2xhbWFwL3NyYy9jb21wb25lbnRzL0luaXRpYXRpdmUvSW5pdGlhdGl2ZUNhcmQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuLyoqXG4gKiBJbml0aWF0aXZlIEVTUyBDYXJkIENvbXBvbmVudFxuICpcbiAqIERpc3BsYXlzIGluZm9ybWF0aW9uIGFib3V0IGFuIGluaXRpYXRpdmUgaW4gYSBjb21wYWN0IGFuZCBhdHRyYWN0aXZlIHdheS5cbiAqIFN1cHBvcnRzIGRpZmZlcmVudCBkaXNwbGF5IG1vZGVzIChjYXJkLCBwb3B1cCwgbGlzdCkuXG4gKi9cblxuaW1wb3J0IHtcbiAgTWFwUGluLFxuICBDbG9jayxcbiAgR2xvYmUsXG4gIFBob25lLFxuICBNYWlsLFxuICBFeHRlcm5hbExpbmssXG4gIENoZWNrLFxufSBmcm9tICdsdWNpZGUtcmVhY3QnO1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnO1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IElOSVRJQVRJVkVfQ09MT1JTIH0gZnJvbSAnQC90eXBlcy9pbml0aWF0aXZlJztcblxuaW1wb3J0IHR5cGUgeyBJbml0aWF0aXZlLCBPcGVuaW5nSG91cnMgfSBmcm9tICdAL3R5cGVzL2luaXRpYXRpdmUnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVFlQRVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmludGVyZmFjZSBJbml0aWF0aXZlQ2FyZFByb3BzIHtcbiAgLyoqIEluaXRpYXRpdmUgZGF0YSAqL1xuICBpbml0aWF0aXZlOiBJbml0aWF0aXZlO1xuXG4gIC8qKiBEaXNwbGF5IHZhcmlhbnQgKi9cbiAgdmFyaWFudD86ICdjYXJkJyB8ICdwb3B1cCcgfCAnbGlzdCcgfCAnZGV0YWlsZWQnO1xuXG4gIC8qKiBDdXN0b20gQ1NTIGNsYXNzZXMgKi9cbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuXG4gIC8qKiBTaG93IGRpc3RhbmNlIGlmIGF2YWlsYWJsZSAqL1xuICBkaXN0YW5jZT86IG51bWJlcjtcblxuICAvKiogQ2xpY2sgY2FsbGJhY2sgb24gY2FyZCAqL1xuICBvbkNsaWNrPzogKGluaXRpYXRpdmU6IEluaXRpYXRpdmUpID0+IHZvaWQ7XG5cbiAgLyoqIFNob3cgZWRpdCBhY3Rpb25zICovXG4gIHNob3dBY3Rpb25zPzogYm9vbGVhbjtcblxuICAvKiogRWRpdCBjYWxsYmFjayAqL1xuICBvbkVkaXQ/OiAoaW5pdGlhdGl2ZTogSW5pdGlhdGl2ZSkgPT4gdm9pZDtcblxuICAvKiogRGVsZXRlIGNhbGxiYWNrICovXG4gIG9uRGVsZXRlPzogKGluaXRpYXRpdmU6IEluaXRpYXRpdmUpID0+IHZvaWQ7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBVVElMSVRJRVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogRm9ybWF0IGRpc3RhbmNlIGFzIHJlYWRhYmxlIHRleHRcbiAqL1xuZnVuY3Rpb24gZm9ybWF0RGlzdGFuY2UobWV0ZXJzOiBudW1iZXIpOiBzdHJpbmcge1xuICBpZiAobWV0ZXJzIDwgMTAwMCkge1xuICAgIHJldHVybiBgJHtNYXRoLnJvdW5kKG1ldGVycyl9IG1gO1xuICB9XG4gIHJldHVybiBgJHsobWV0ZXJzIC8gMTAwMCkudG9GaXhlZCgxKX0ga21gO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBpbml0aWF0aXZlIGlzIGN1cnJlbnRseSBvcGVuXG4gKi9cbmZ1bmN0aW9uIGlzT3Blbk5vdyhvcGVuaW5nSG91cnM6IE9wZW5pbmdIb3VycyB8IHVuZGVmaW5lZCk6IGJvb2xlYW4ge1xuICBpZiAoIW9wZW5pbmdIb3VycykgcmV0dXJuIGZhbHNlO1xuXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gIGNvbnN0IGRheSA9IG5vd1xuICAgIC50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJywgeyB3ZWVrZGF5OiAnbG9uZycgfSlcbiAgICAudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgY3VycmVudFRpbWUgPSBub3cudG9UaW1lU3RyaW5nKCkuc2xpY2UoMCwgNSk7IC8vIEhIOk1NXG5cbiAgY29uc3QgZGF5TWFwcGluZzogUmVjb3JkPHN0cmluZywga2V5b2YgT3BlbmluZ0hvdXJzPiA9IHtcbiAgICBsdW5kaTogJ21vbmRheScsXG4gICAgbWFyZGk6ICd0dWVzZGF5JyxcbiAgICBtZXJjcmVkaTogJ3dlZG5lc2RheScsXG4gICAgamV1ZGk6ICd0aHVyc2RheScsXG4gICAgdmVuZHJlZGk6ICdmcmlkYXknLFxuICAgIHNhbWVkaTogJ3NhdHVyZGF5JyxcbiAgICBkaW1hbmNoZTogJ3N1bmRheScsXG4gIH07XG5cbiAgY29uc3QgbWFwcGVkRGF5ID0gZGF5TWFwcGluZ1tkYXldO1xuICBpZiAoIW1hcHBlZERheSkgcmV0dXJuIGZhbHNlO1xuXG4gIGNvbnN0IHRvZGF5SG91cnMgPSBvcGVuaW5nSG91cnNbbWFwcGVkRGF5XTtcbiAgaWYgKCF0b2RheUhvdXJzKSByZXR1cm4gZmFsc2U7XG5cbiAgcmV0dXJuIGN1cnJlbnRUaW1lID49IHRvZGF5SG91cnMub3BlbiAmJiBjdXJyZW50VGltZSA8PSB0b2RheUhvdXJzLmNsb3NlO1xufVxuXG4vKipcbiAqIEZvcm1hdCBvcGVuaW5nIGhvdXJzIGZvciBkaXNwbGF5XG4gKi9cbmZ1bmN0aW9uIGZvcm1hdE9wZW5pbmdIb3VycyhvcGVuaW5nSG91cnM6IE9wZW5pbmdIb3VycyB8IHVuZGVmaW5lZCk6IHN0cmluZyB7XG4gIGlmICghb3BlbmluZ0hvdXJzKSByZXR1cm4gJ0hvdXJzIG5vdCBwcm92aWRlZCc7XG5cbiAgY29uc3QgZGF5cyA9IFtcbiAgICAnbW9uZGF5JyxcbiAgICAndHVlc2RheScsXG4gICAgJ3dlZG5lc2RheScsXG4gICAgJ3RodXJzZGF5JyxcbiAgICAnZnJpZGF5JyxcbiAgICAnc2F0dXJkYXknLFxuICAgICdzdW5kYXknLFxuICBdO1xuICBjb25zdCBkYXlOYW1lcyA9IFsnTHVuJywgJ01hcicsICdNZXInLCAnSmV1JywgJ1ZlbicsICdTYW0nLCAnRGltJ107XG5cbiAgY29uc3QgaG91cnNUZXh0ID0gZGF5c1xuICAgIC5tYXAoKGRheSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGhvdXJzID0gb3BlbmluZ0hvdXJzW2RheSBhcyBrZXlvZiBPcGVuaW5nSG91cnNdO1xuICAgICAgaWYgKCFob3VycykgcmV0dXJuIGAke2RheU5hbWVzW2luZGV4XX06IEZlcm3DqWA7XG4gICAgICByZXR1cm4gYCR7ZGF5TmFtZXNbaW5kZXhdfTogJHtob3Vycy5vcGVufS0ke2hvdXJzLmNsb3NlfWA7XG4gICAgfSlcbiAgICAuam9pbignXFxuJyk7XG5cbiAgcmV0dXJuIGhvdXJzVGV4dDtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENPTVBPU0FOVFNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogQmFkZ2UgZGUgdHlwZSBkJ2luaXRpYXRpdmVcbiAqL1xuZnVuY3Rpb24gVHlwZUJhZGdlKHsgdHlwZSB9OiB7IHR5cGU6IEluaXRpYXRpdmVbJ3R5cGUnXSB9KSB7XG4gIGNvbnN0IGNvbG9yID0gSU5JVElBVElWRV9DT0xPUlNbdHlwZV07XG5cbiAgcmV0dXJuIChcbiAgICA8c3BhblxuICAgICAgY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIHB4LTIuNSBweS0wLjUgcm91bmRlZC1mdWxsIHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC13aGl0ZVwiXG4gICAgICBzdHlsZT17eyBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yIH19XG4gICAgPlxuICAgICAge3R5cGV9XG4gICAgPC9zcGFuPlxuICApO1xufVxuXG4vKipcbiAqIEJhZGdlIGRlIHbDqXJpZmljYXRpb25cbiAqL1xuZnVuY3Rpb24gVmVyaWZpZWRCYWRnZSh7IHZlcmlmaWVkIH06IHsgdmVyaWZpZWQ6IGJvb2xlYW4gfSkge1xuICBpZiAoIXZlcmlmaWVkKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBweC0yIHB5LTEgYmctZ3JlZW4tMTAwIHRleHQtZ3JlZW4tODAwIHRleHQteHMgcm91bmRlZC1tZFwiXG4gICAgICB0aXRsZT1cIkluaXRpYXRpdmUgdsOpcmlmacOpZSBwYXIgbCfDqXF1aXBlIExhTWFwXCJcbiAgICA+XG4gICAgICA8Q2hlY2sgc2l6ZT17MTJ9IC8+XG4gICAgICA8c3Bhbj5Ww6lyaWZpw6llPC9zcGFuPlxuICAgIDwvZGl2PlxuICApO1xufVxuXG4vKipcbiAqIEluZm9ybWF0aW9ucyBkZSBjb250YWN0IHJhcGlkZVxuICovXG5mdW5jdGlvbiBRdWlja0NvbnRhY3QoeyBpbml0aWF0aXZlIH06IHsgaW5pdGlhdGl2ZTogSW5pdGlhdGl2ZSB9KSB7XG4gIGNvbnN0IGhhc0NvbnRhY3QgPSBpbml0aWF0aXZlLnBob25lIHx8IGluaXRpYXRpdmUuZW1haWwgfHwgaW5pdGlhdGl2ZS53ZWJzaXRlO1xuXG4gIGlmICghaGFzQ29udGFjdCkgcmV0dXJuIG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAge2luaXRpYXRpdmUucGhvbmUgJiYgKFxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e2B0ZWw6JHtpbml0aWF0aXZlLnBob25lfWB9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgaG92ZXI6dGV4dC1wcmltYXJ5LTYwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgdGl0bGU9XCJBcHBlbGVyXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxQaG9uZSBzaXplPXsxNH0gLz5cbiAgICAgICAgPC9hPlxuICAgICAgKX1cblxuICAgICAge2luaXRpYXRpdmUuZW1haWwgJiYgKFxuICAgICAgICA8YVxuICAgICAgICAgIGhyZWY9e2BtYWlsdG86JHtpbml0aWF0aXZlLmVtYWlsfWB9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgaG92ZXI6dGV4dC1wcmltYXJ5LTYwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgdGl0bGU9XCJFbnZveWVyIHVuIGVtYWlsXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxNYWlsIHNpemU9ezE0fSAvPlxuICAgICAgICA8L2E+XG4gICAgICApfVxuXG4gICAgICB7aW5pdGlhdGl2ZS53ZWJzaXRlICYmIChcbiAgICAgICAgPGFcbiAgICAgICAgICBocmVmPXtpbml0aWF0aXZlLndlYnNpdGV9XG4gICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBob3Zlcjp0ZXh0LXByaW1hcnktNjAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICB0aXRsZT1cIlZpc2l0ZXIgbGUgc2l0ZSB3ZWJcIlxuICAgICAgICA+XG4gICAgICAgICAgPEdsb2JlIHNpemU9ezE0fSAvPlxuICAgICAgICAgIDxFeHRlcm5hbExpbmsgc2l6ZT17MTJ9IC8+XG4gICAgICAgIDwvYT5cbiAgICAgICl9XG4gICAgPC9kaXY+XG4gICk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDT01QT1NBTlQgUFJJTkNJUEFMXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbml0aWF0aXZlQ2FyZCh7XG4gIGluaXRpYXRpdmUsXG4gIHZhcmlhbnQgPSAnY2FyZCcsXG4gIGNsYXNzTmFtZSA9ICcnLFxuICBkaXN0YW5jZSxcbiAgb25DbGljayxcbiAgc2hvd0FjdGlvbnMgPSBmYWxzZSxcbiAgb25FZGl0LFxuICBvbkRlbGV0ZSxcbn06IEluaXRpYXRpdmVDYXJkUHJvcHMpIHtcbiAgY29uc3QgW2ltYWdlRXJyb3IsIHNldEltYWdlRXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0Z1bGxEZXNjcmlwdGlvbiwgc2V0U2hvd0Z1bGxEZXNjcmlwdGlvbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gQ2xhc3NlcyBDU1Mgc2Vsb24gbGUgdmFyaWFudFxuICBjb25zdCB2YXJpYW50Q2xhc3NlcyA9IHtcbiAgICBjYXJkOiAnYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbWQgaG92ZXI6c2hhZG93LWxnIHRyYW5zaXRpb24tc2hhZG93IGR1cmF0aW9uLTIwMCBvdmVyZmxvdy1oaWRkZW4nLFxuICAgIHBvcHVwOiAnYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgb3ZlcmZsb3ctaGlkZGVuIG1heC13LXNtJyxcbiAgICBsaXN0OiAnYmctd2hpdGUgcm91bmRlZC1tZCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJvcmRlci1ncmF5LTMwMCB0cmFuc2l0aW9uLWNvbG9ycycsXG4gICAgZGV0YWlsZWQ6ICdiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1zbSBib3JkZXIgYm9yZGVyLWdyYXktMjAwJyxcbiAgfTtcblxuICBjb25zdCBjb250YWluZXJDbGFzcyA9IGAke3ZhcmlhbnRDbGFzc2VzW3ZhcmlhbnRdfSAke2NsYXNzTmFtZX1gO1xuXG4gIC8vIEdlc3Rpb24gZHUgY2xpY1xuICBjb25zdCBoYW5kbGVDbGljayA9ICgpID0+IHtcbiAgICBpZiAob25DbGljaykge1xuICAgICAgb25DbGljayhpbml0aWF0aXZlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVGV4dGUgZGUgZGVzY3JpcHRpb24gdHJvbnF1w6lcbiAgY29uc3QgZGVzY3JpcHRpb24gPSBpbml0aWF0aXZlLmRlc2NyaXB0aW9uIHx8ICcnO1xuICBjb25zdCB0cnVuY2F0ZWREZXNjcmlwdGlvbiA9XG4gICAgZGVzY3JpcHRpb24ubGVuZ3RoID4gMTIwICYmICFzaG93RnVsbERlc2NyaXB0aW9uXG4gICAgICA/IGAke2Rlc2NyaXB0aW9uLnNsaWNlKDAsIDEyMCl9Li4uYFxuICAgICAgOiBkZXNjcmlwdGlvbjtcblxuICBjb25zdCBpc09wZW4gPSBpc09wZW5Ob3coaW5pdGlhdGl2ZS5vcGVuaW5nX2hvdXJzKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBWQVJJQU5UIExJU1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBpZiAodmFyaWFudCA9PT0gJ2xpc3QnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPXtjb250YWluZXJDbGFzc31cbiAgICAgICAgb25DbGljaz17aGFuZGxlQ2xpY2t9XG4gICAgICAgIHJvbGU9e29uQ2xpY2sgPyAnYnV0dG9uJyA6IHVuZGVmaW5lZH1cbiAgICAgICAgdGFiSW5kZXg9e29uQ2xpY2sgPyAwIDogdW5kZWZpbmVkfVxuICAgICAgPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgPFR5cGVCYWRnZSB0eXBlPXtpbml0aWF0aXZlLnR5cGV9IC8+XG4gICAgICAgICAgICAgICAgPFZlcmlmaWVkQmFkZ2UgdmVyaWZpZWQ9e2luaXRpYXRpdmUudmVyaWZpZWR9IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAgICAgIHtpbml0aWF0aXZlLm5hbWV9XG4gICAgICAgICAgICAgIDwvaDM+XG5cbiAgICAgICAgICAgICAge2luaXRpYXRpdmUuYWRkcmVzcyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBtdC0xIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgPE1hcFBpbiBzaXplPXsxNH0gLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRydW5jYXRlXCI+e2luaXRpYXRpdmUuYWRkcmVzc308L3NwYW4+XG4gICAgICAgICAgICAgICAgICB7ZGlzdGFuY2UgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yIHRleHQtcHJpbWFyeS02MDAgZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICDigKIge2Zvcm1hdERpc3RhbmNlKGRpc3RhbmNlKX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8UXVpY2tDb250YWN0IGluaXRpYXRpdmU9e2luaXRpYXRpdmV9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIFZBUklBTlQgUE9QVVBcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBpZiAodmFyaWFudCA9PT0gJ3BvcHVwJykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y29udGFpbmVyQ2xhc3N9PlxuICAgICAgICB7LyogSW1hZ2UgKi99XG4gICAgICAgIHtpbml0aWF0aXZlLmltYWdlX3VybCAmJiAhaW1hZ2VFcnJvciAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBoLTMyIHctZnVsbFwiPlxuICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgIHNyYz17aW5pdGlhdGl2ZS5pbWFnZV91cmx9XG4gICAgICAgICAgICAgIGFsdD17aW5pdGlhdGl2ZS5uYW1lfVxuICAgICAgICAgICAgICBmaWxsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICAgIG9uRXJyb3I9eygpID0+IHNldEltYWdlRXJyb3IodHJ1ZSl9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICA8VHlwZUJhZGdlIHR5cGU9e2luaXRpYXRpdmUudHlwZX0gLz5cbiAgICAgICAgICAgIDxWZXJpZmllZEJhZGdlIHZlcmlmaWVkPXtpbml0aWF0aXZlLnZlcmlmaWVkfSAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj5cbiAgICAgICAgICAgIHtpbml0aWF0aXZlLm5hbWV9XG4gICAgICAgICAgPC9oMz5cblxuICAgICAgICAgIHtpbml0aWF0aXZlLmFkZHJlc3MgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBtYi0yIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICA8TWFwUGluIHNpemU9ezE0fSAvPlxuICAgICAgICAgICAgICA8c3Bhbj57aW5pdGlhdGl2ZS5hZGRyZXNzfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7ZGlzdGFuY2UgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcHJpbWFyeS02MDAgZm9udC1tZWRpdW0gbWItMlwiPlxuICAgICAgICAgICAgICDDgCB7Zm9ybWF0RGlzdGFuY2UoZGlzdGFuY2UpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHtkZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgbWItM1wiPnt0cnVuY2F0ZWREZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIDxRdWlja0NvbnRhY3QgaW5pdGlhdGl2ZT17aW5pdGlhdGl2ZX0gLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gVkFSSUFOVCBDQVJEICYgREVUQUlMRURcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICByZXR1cm4gKFxuICAgIDxkaXZcbiAgICAgIGNsYXNzTmFtZT17Y29udGFpbmVyQ2xhc3N9XG4gICAgICBvbkNsaWNrPXtoYW5kbGVDbGlja31cbiAgICAgIHJvbGU9e29uQ2xpY2sgPyAnYnV0dG9uJyA6IHVuZGVmaW5lZH1cbiAgICAgIHRhYkluZGV4PXtvbkNsaWNrID8gMCA6IHVuZGVmaW5lZH1cbiAgICA+XG4gICAgICB7LyogSW1hZ2UgZCdlbi10w6p0ZSAqL31cbiAgICAgIHtpbml0aWF0aXZlLmltYWdlX3VybCAmJiAhaW1hZ2VFcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgaC00OCB3LWZ1bGxcIj5cbiAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgIHNyYz17aW5pdGlhdGl2ZS5pbWFnZV91cmx9XG4gICAgICAgICAgICBhbHQ9e2luaXRpYXRpdmUubmFtZX1cbiAgICAgICAgICAgIGZpbGxcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cIm9iamVjdC1jb3ZlclwiXG4gICAgICAgICAgICBvbkVycm9yPXsoKSA9PiBzZXRJbWFnZUVycm9yKHRydWUpfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICB7LyogT3ZlcmxheSBhdmVjIGJhZGdlcyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC0zIGxlZnQtMyBmbGV4IGdhcC0yXCI+XG4gICAgICAgICAgICA8VHlwZUJhZGdlIHR5cGU9e2luaXRpYXRpdmUudHlwZX0gLz5cbiAgICAgICAgICAgIDxWZXJpZmllZEJhZGdlIHZlcmlmaWVkPXtpbml0aWF0aXZlLnZlcmlmaWVkfSAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBDb250ZW51IHByaW5jaXBhbCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00XCI+XG4gICAgICAgIHsvKiBFbi10w6p0ZSBzYW5zIGltYWdlICovfVxuICAgICAgICB7KCFpbml0aWF0aXZlLmltYWdlX3VybCB8fCBpbWFnZUVycm9yKSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItM1wiPlxuICAgICAgICAgICAgPFR5cGVCYWRnZSB0eXBlPXtpbml0aWF0aXZlLnR5cGV9IC8+XG4gICAgICAgICAgICA8VmVyaWZpZWRCYWRnZSB2ZXJpZmllZD17aW5pdGlhdGl2ZS52ZXJpZmllZH0gLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogVGl0cmUgKi99XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+XG4gICAgICAgICAge2luaXRpYXRpdmUubmFtZX1cbiAgICAgICAgPC9oMz5cblxuICAgICAgICB7LyogQWRyZXNzZSBldCBkaXN0YW5jZSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTIgbWItM1wiPlxuICAgICAgICAgIHtpbml0aWF0aXZlLmFkZHJlc3MgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgPE1hcFBpbiBzaXplPXsxNn0gY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMFwiIC8+XG4gICAgICAgICAgICAgIDxzcGFuPntpbml0aWF0aXZlLmFkZHJlc3N9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHtkaXN0YW5jZSAmJiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wcmltYXJ5LTYwMCBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICDDgCB7Zm9ybWF0RGlzdGFuY2UoZGlzdGFuY2UpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIERlc2NyaXB0aW9uICovfVxuICAgICAgICB7ZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGxlYWRpbmctcmVsYXhlZFwiPlxuICAgICAgICAgICAgICB7dHJ1bmNhdGVkRGVzY3JpcHRpb259XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICB7ZGVzY3JpcHRpb24ubGVuZ3RoID4gMTIwICYmIChcbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgc2V0U2hvd0Z1bGxEZXNjcmlwdGlvbighc2hvd0Z1bGxEZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcHJpbWFyeS02MDAgaG92ZXI6dGV4dC1wcmltYXJ5LTcwMCBtdC0xXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtzaG93RnVsbERlc2NyaXB0aW9uID8gJ1ZvaXIgbW9pbnMnIDogJ1ZvaXIgcGx1cyd9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogSG9yYWlyZXMgcG91ciB2YXJpYW50IGRldGFpbGVkICovfVxuICAgICAgICB7dmFyaWFudCA9PT0gJ2RldGFpbGVkJyAmJiBpbml0aWF0aXZlLm9wZW5pbmdfaG91cnMgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBtYi0yXCI+XG4gICAgICAgICAgICAgIDxDbG9jayBzaXplPXsxNn0gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMFwiIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgIEhvcmFpcmVzXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAge2lzT3BlbiAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAgcHgtMiBweS0xIHJvdW5kZWQtZnVsbFwiPlxuICAgICAgICAgICAgICAgICAgT3V2ZXJ0XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cHJlIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTYwMCB3aGl0ZXNwYWNlLXByZS1saW5lXCI+XG4gICAgICAgICAgICAgIHtmb3JtYXRPcGVuaW5nSG91cnMoaW5pdGlhdGl2ZS5vcGVuaW5nX2hvdXJzKX1cbiAgICAgICAgICAgIDwvcHJlPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuXG4gICAgICAgIHsvKiBDb250YWN0ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgIDxRdWlja0NvbnRhY3QgaW5pdGlhdGl2ZT17aW5pdGlhdGl2ZX0gLz5cblxuICAgICAgICAgIHsvKiBBY3Rpb25zIGQnYWRtaW5pc3RyYXRpb24gKi99XG4gICAgICAgICAge3Nob3dBY3Rpb25zICYmIChvbkVkaXQgfHwgb25EZWxldGUpICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAge29uRWRpdCAmJiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgb25FZGl0KGluaXRpYXRpdmUpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibHVlLTYwMCBob3Zlcjp0ZXh0LWJsdWUtNzAwIHB4LTIgcHktMSByb3VuZGVkXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICDDiWRpdGVyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtvbkRlbGV0ZSAmJiAoXG4gICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgb25EZWxldGUoaW5pdGlhdGl2ZSk7XG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtNzAwIHB4LTIgcHktMSByb3VuZGVkXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICBTdXBwcmltZXJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBNw6l0YWRvbm7DqWVzIHBvdXIgdmFyaWFudCBkZXRhaWxlZCAqL31cbiAgICAgICAge3ZhcmlhbnQgPT09ICdkZXRhaWxlZCcgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCB0ZXh0LXhzIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgQWpvdXTDqSBsZXsnICd9XG4gICAgICAgICAgICAgICAge25ldyBEYXRlKGluaXRpYXRpdmUuY3JlYXRlZF9hdCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdmci1GUicpfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgIHtpbml0aWF0aXZlLnVwZGF0ZWRfYXQgIT09IGluaXRpYXRpdmUuY3JlYXRlZF9hdCAmJiAoXG4gICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICBNb2RpZmnDqSBsZXsnICd9XG4gICAgICAgICAgICAgICAgICB7bmV3IERhdGUoaW5pdGlhdGl2ZS51cGRhdGVkX2F0KS50b0xvY2FsZURhdGVTdHJpbmcoJ2ZyLUZSJyl9XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJJbml0aWF0aXZlQ2FyZCIsImZvcm1hdERpc3RhbmNlIiwibWV0ZXJzIiwiTWF0aCIsInJvdW5kIiwidG9GaXhlZCIsImlzT3Blbk5vdyIsIm9wZW5pbmdIb3VycyIsIm5vdyIsIkRhdGUiLCJkYXkiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ3ZWVrZGF5IiwidG9Mb3dlckNhc2UiLCJjdXJyZW50VGltZSIsInRvVGltZVN0cmluZyIsInNsaWNlIiwiZGF5TWFwcGluZyIsImx1bmRpIiwibWFyZGkiLCJtZXJjcmVkaSIsImpldWRpIiwidmVuZHJlZGkiLCJzYW1lZGkiLCJkaW1hbmNoZSIsIm1hcHBlZERheSIsInRvZGF5SG91cnMiLCJvcGVuIiwiY2xvc2UiLCJmb3JtYXRPcGVuaW5nSG91cnMiLCJkYXlzIiwiZGF5TmFtZXMiLCJob3Vyc1RleHQiLCJtYXAiLCJpbmRleCIsImhvdXJzIiwiam9pbiIsIlR5cGVCYWRnZSIsInR5cGUiLCJjb2xvciIsIklOSVRJQVRJVkVfQ09MT1JTIiwic3BhbiIsImNsYXNzTmFtZSIsInN0eWxlIiwiYmFja2dyb3VuZENvbG9yIiwiVmVyaWZpZWRCYWRnZSIsInZlcmlmaWVkIiwiZGl2IiwidGl0bGUiLCJDaGVjayIsInNpemUiLCJRdWlja0NvbnRhY3QiLCJpbml0aWF0aXZlIiwiaGFzQ29udGFjdCIsInBob25lIiwiZW1haWwiLCJ3ZWJzaXRlIiwiYSIsImhyZWYiLCJQaG9uZSIsIk1haWwiLCJ0YXJnZXQiLCJyZWwiLCJHbG9iZSIsIkV4dGVybmFsTGluayIsInZhcmlhbnQiLCJkaXN0YW5jZSIsIm9uQ2xpY2siLCJzaG93QWN0aW9ucyIsIm9uRWRpdCIsIm9uRGVsZXRlIiwiaW1hZ2VFcnJvciIsInNldEltYWdlRXJyb3IiLCJ1c2VTdGF0ZSIsInNob3dGdWxsRGVzY3JpcHRpb24iLCJzZXRTaG93RnVsbERlc2NyaXB0aW9uIiwidmFyaWFudENsYXNzZXMiLCJjYXJkIiwicG9wdXAiLCJsaXN0IiwiZGV0YWlsZWQiLCJjb250YWluZXJDbGFzcyIsImhhbmRsZUNsaWNrIiwiZGVzY3JpcHRpb24iLCJ0cnVuY2F0ZWREZXNjcmlwdGlvbiIsImxlbmd0aCIsImlzT3BlbiIsIm9wZW5pbmdfaG91cnMiLCJyb2xlIiwidW5kZWZpbmVkIiwidGFiSW5kZXgiLCJoMyIsIm5hbWUiLCJhZGRyZXNzIiwiTWFwUGluIiwiaW1hZ2VfdXJsIiwiSW1hZ2UiLCJzcmMiLCJhbHQiLCJmaWxsIiwib25FcnJvciIsInAiLCJidXR0b24iLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwiQ2xvY2siLCJwcmUiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQW1OQSxtQ0FBbUM7QUFDbkMsc0JBQXNCO0FBQ3RCLG1DQUFtQztBQUVuQzs7O2VBQXdCQTs7Ozs2QkF0TWpCOzhEQUNXO3VCQUNPOzRCQUVTOzs7Ozs7QUFrQ2xDLG1DQUFtQztBQUNuQyxZQUFZO0FB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