aa402fbb9d8683233bb833a564900ea5
"use strict";
// Mock Supabase client
jest.mock('@/lib/supabase/client', ()=>({
        createClient: jest.fn(()=>({
                auth: {
                    getUser: jest.fn(()=>Promise.resolve({
                            data: {
                                user: null
                            },
                            error: null
                        }))
                }
            }))
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _InitiativeCard = /*#__PURE__*/ _interop_require_default(require("../../components/Initiative/InitiativeCard"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockInitiative = {
    id: '123e4567-e89b-12d3-a456-426614174000',
    name: 'Ressourcerie de Belleville',
    type: 'Ressourcerie',
    description: 'Une ressourcerie engagée pour le réemploi',
    address: '12 rue de Belleville, 75020 Paris',
    location: {
        type: 'Point',
        coordinates: [
            2.3894,
            48.8724
        ]
    },
    verified: true,
    image_url: 'https://example.com/image.jpg',
    website: 'https://ressourcerie-belleville.fr',
    phone: '01 23 45 67 89',
    email: 'contact@ressourcerie-belleville.fr',
    opening_hours: {
        monday: {
            open: '09:00',
            close: '18:00'
        },
        tuesday: {
            open: '09:00',
            close: '18:00'
        },
        wednesday: null,
        thursday: {
            open: '09:00',
            close: '18:00'
        },
        friday: {
            open: '09:00',
            close: '18:00'
        },
        saturday: {
            open: '10:00',
            close: '17:00'
        },
        sunday: null
    },
    user_id: 'user-123',
    created_at: '2024-01-15T10:00:00Z',
    updated_at: '2024-01-15T10:00:00Z'
};
describe('InitiativeCard', ()=>{
    it('displays basic initiative information', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        expect(_react.screen.getByText('Ressourcerie de Belleville')).toBeInTheDocument();
        expect(_react.screen.getByText('Ressourcerie')).toBeInTheDocument();
        expect(_react.screen.getByText(/Une ressourcerie engagée/)).toBeInTheDocument();
    });
    it('displays address when present', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        expect(_react.screen.getByText(/12 rue de Belleville/)).toBeInTheDocument();
    });
    it('displays "Verified" badge for verified initiatives', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        // The badge shows "Vérifiée" (feminine form for "initiative")
        expect(_react.screen.getByText('Vérifiée')).toBeInTheDocument();
    });
    it('does not display "Verified" badge for unverified initiatives', ()=>{
        const unverifiedInitiative = {
            ...mockInitiative,
            verified: false
        };
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: unverifiedInitiative
        }));
        expect(_react.screen.queryByText('Vérifiée')).not.toBeInTheDocument();
    });
    it('displays contact links when present', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        const websiteLink = _react.screen.getByRole('link', {
            name: /site web/i
        });
        expect(websiteLink).toHaveAttribute('href', 'https://ressourcerie-belleville.fr');
        expect(websiteLink).toHaveAttribute('target', '_blank');
        expect(websiteLink).toHaveAttribute('rel', 'noopener noreferrer');
    });
    it('displays phone and email as accessible links', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        // Phone and email are displayed as icon links with title attributes
        const phoneLink = _react.screen.getByTitle('Appeler');
        expect(phoneLink).toHaveAttribute('href', 'tel:01 23 45 67 89');
        const emailLink = _react.screen.getByTitle('Envoyer un email');
        expect(emailLink).toHaveAttribute('href', 'mailto:contact@ressourcerie-belleville.fr');
    });
    it('handles card click to display more details', ()=>{
        const onClickMock = jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative,
            onClick: onClickMock
        }));
        // Card with onClick becomes a button role for accessibility
        const card = _react.screen.getByRole('button');
        _react.fireEvent.click(card);
        expect(onClickMock).toHaveBeenCalledTimes(1);
        expect(onClickMock).toHaveBeenCalledWith(mockInitiative);
    });
    it('displays image when present', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        const image = _react.screen.getByAltText('Ressourcerie de Belleville');
        expect(image).toBeInTheDocument();
        expect(image).toHaveAttribute('src');
    });
    it('handles missing optional information', ()=>{
        const minimalInitiative = {
            id: '123',
            name: 'Initiative minimale',
            type: 'Autre',
            location: {
                type: 'Point',
                coordinates: [
                    2.3522,
                    48.8566
                ]
            },
            verified: false,
            created_at: '2024-01-15T10:00:00Z',
            updated_at: '2024-01-15T10:00:00Z'
        };
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: minimalInitiative
        }));
        expect(_react.screen.getByText('Initiative minimale')).toBeInTheDocument();
        expect(_react.screen.getByText('Autre')).toBeInTheDocument();
        expect(_react.screen.queryByText(/http/)).not.toBeInTheDocument();
    });
    it('applies custom CSS classes', ()=>{
        const { container } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative,
            className: "custom-class"
        }));
        const card = container.querySelector('.custom-class');
        expect(card).toBeInTheDocument();
    });
    it('displays opening hours when detailed variant is used', ()=>{
        // Opening hours are shown in detailed variant (e.g., in popup/modal)
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative,
            variant: "detailed"
        }));
        // Detailed variant shows opening hours section
        expect(_react.screen.getByText(/Horaires/i)).toBeInTheDocument();
        // Opening hours are formatted in abbreviated form
        expect(_react.screen.getByText(/Lun:/i)).toBeInTheDocument();
        expect(_react.screen.getByText(/09:00-18:00/)).toBeInTheDocument();
    });
    it('is accessible with appropriate semantic structure', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        // Without onClick, card is a simple div container
        // With onClick, it becomes a button with proper accessibility
        const heading = _react.screen.getByRole('heading', {
            name: 'Ressourcerie de Belleville'
        });
        expect(heading).toBeInTheDocument();
        // Image has proper alt text
        const image = _react.screen.getByAltText('Ressourcerie de Belleville');
        expect(image).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9SYXBoYWVsL0RvY3VtZW50cy9ERVYubm9zeW5jL2xhbWFwL3NyYy9fX3Rlc3RzX18vY29tcG9uZW50cy9Jbml0aWF0aXZlQ2FyZC50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5cbmltcG9ydCBJbml0aWF0aXZlQ2FyZCBmcm9tICdAL2NvbXBvbmVudHMvSW5pdGlhdGl2ZS9Jbml0aWF0aXZlQ2FyZCc7XG5cbmltcG9ydCB0eXBlIHsgSW5pdGlhdGl2ZSB9IGZyb20gJ0AvdHlwZXMvaW5pdGlhdGl2ZSc7XG5cbi8vIE1vY2sgU3VwYWJhc2UgY2xpZW50XG5qZXN0Lm1vY2soJ0AvbGliL3N1cGFiYXNlL2NsaWVudCcsICgpID0+ICh7XG4gIGNyZWF0ZUNsaWVudDogamVzdC5mbigoKSA9PiAoe1xuICAgIGF1dGg6IHtcbiAgICAgIGdldFVzZXI6IGplc3QuZm4oKCkgPT5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogeyB1c2VyOiBudWxsIH0sIGVycm9yOiBudWxsIH0pXG4gICAgICApLFxuICAgIH0sXG4gIH0pKSxcbn0pKTtcblxuY29uc3QgbW9ja0luaXRpYXRpdmU6IEluaXRpYXRpdmUgPSB7XG4gIGlkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyxcbiAgbmFtZTogJ1Jlc3NvdXJjZXJpZSBkZSBCZWxsZXZpbGxlJyxcbiAgdHlwZTogJ1Jlc3NvdXJjZXJpZScsXG4gIGRlc2NyaXB0aW9uOiAnVW5lIHJlc3NvdXJjZXJpZSBlbmdhZ8OpZSBwb3VyIGxlIHLDqWVtcGxvaScsXG4gIGFkZHJlc3M6ICcxMiBydWUgZGUgQmVsbGV2aWxsZSwgNzUwMjAgUGFyaXMnLFxuICBsb2NhdGlvbjoge1xuICAgIHR5cGU6ICdQb2ludCcsXG4gICAgY29vcmRpbmF0ZXM6IFsyLjM4OTQsIDQ4Ljg3MjRdLFxuICB9LFxuICB2ZXJpZmllZDogdHJ1ZSxcbiAgaW1hZ2VfdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5qcGcnLFxuICB3ZWJzaXRlOiAnaHR0cHM6Ly9yZXNzb3VyY2VyaWUtYmVsbGV2aWxsZS5mcicsXG4gIHBob25lOiAnMDEgMjMgNDUgNjcgODknLFxuICBlbWFpbDogJ2NvbnRhY3RAcmVzc291cmNlcmllLWJlbGxldmlsbGUuZnInLFxuICBvcGVuaW5nX2hvdXJzOiB7XG4gICAgbW9uZGF5OiB7IG9wZW46ICcwOTowMCcsIGNsb3NlOiAnMTg6MDAnIH0sXG4gICAgdHVlc2RheTogeyBvcGVuOiAnMDk6MDAnLCBjbG9zZTogJzE4OjAwJyB9LFxuICAgIHdlZG5lc2RheTogbnVsbCxcbiAgICB0aHVyc2RheTogeyBvcGVuOiAnMDk6MDAnLCBjbG9zZTogJzE4OjAwJyB9LFxuICAgIGZyaWRheTogeyBvcGVuOiAnMDk6MDAnLCBjbG9zZTogJzE4OjAwJyB9LFxuICAgIHNhdHVyZGF5OiB7IG9wZW46ICcxMDowMCcsIGNsb3NlOiAnMTc6MDAnIH0sXG4gICAgc3VuZGF5OiBudWxsLFxuICB9LFxuICB1c2VyX2lkOiAndXNlci0xMjMnLFxuICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxufTtcblxuZGVzY3JpYmUoJ0luaXRpYXRpdmVDYXJkJywgKCkgPT4ge1xuICBpdCgnZGlzcGxheXMgYmFzaWMgaW5pdGlhdGl2ZSBpbmZvcm1hdGlvbicsICgpID0+IHtcbiAgICByZW5kZXIoPEluaXRpYXRpdmVDYXJkIGluaXRpYXRpdmU9e21vY2tJbml0aWF0aXZlfSAvPik7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUmVzc291cmNlcmllIGRlIEJlbGxldmlsbGUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUmVzc291cmNlcmllJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL1VuZSByZXNzb3VyY2VyaWUgZW5nYWfDqWUvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2Rpc3BsYXlzIGFkZHJlc3Mgd2hlbiBwcmVzZW50JywgKCkgPT4ge1xuICAgIHJlbmRlcig8SW5pdGlhdGl2ZUNhcmQgaW5pdGlhdGl2ZT17bW9ja0luaXRpYXRpdmV9IC8+KTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC8xMiBydWUgZGUgQmVsbGV2aWxsZS8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnZGlzcGxheXMgXCJWZXJpZmllZFwiIGJhZGdlIGZvciB2ZXJpZmllZCBpbml0aWF0aXZlcycsICgpID0+IHtcbiAgICByZW5kZXIoPEluaXRpYXRpdmVDYXJkIGluaXRpYXRpdmU9e21vY2tJbml0aWF0aXZlfSAvPik7XG5cbiAgICAvLyBUaGUgYmFkZ2Ugc2hvd3MgXCJWw6lyaWZpw6llXCIgKGZlbWluaW5lIGZvcm0gZm9yIFwiaW5pdGlhdGl2ZVwiKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdWw6lyaWZpw6llJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdkb2VzIG5vdCBkaXNwbGF5IFwiVmVyaWZpZWRcIiBiYWRnZSBmb3IgdW52ZXJpZmllZCBpbml0aWF0aXZlcycsICgpID0+IHtcbiAgICBjb25zdCB1bnZlcmlmaWVkSW5pdGlhdGl2ZSA9IHsgLi4ubW9ja0luaXRpYXRpdmUsIHZlcmlmaWVkOiBmYWxzZSB9O1xuICAgIHJlbmRlcig8SW5pdGlhdGl2ZUNhcmQgaW5pdGlhdGl2ZT17dW52ZXJpZmllZEluaXRpYXRpdmV9IC8+KTtcblxuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ1bDqXJpZmnDqWUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdkaXNwbGF5cyBjb250YWN0IGxpbmtzIHdoZW4gcHJlc2VudCcsICgpID0+IHtcbiAgICByZW5kZXIoPEluaXRpYXRpdmVDYXJkIGluaXRpYXRpdmU9e21vY2tJbml0aWF0aXZlfSAvPik7XG5cbiAgICBjb25zdCB3ZWJzaXRlTGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9zaXRlIHdlYi9pIH0pO1xuICAgIGV4cGVjdCh3ZWJzaXRlTGluaykudG9IYXZlQXR0cmlidXRlKFxuICAgICAgJ2hyZWYnLFxuICAgICAgJ2h0dHBzOi8vcmVzc291cmNlcmllLWJlbGxldmlsbGUuZnInXG4gICAgKTtcbiAgICBleHBlY3Qod2Vic2l0ZUxpbmspLnRvSGF2ZUF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpO1xuICAgIGV4cGVjdCh3ZWJzaXRlTGluaykudG9IYXZlQXR0cmlidXRlKCdyZWwnLCAnbm9vcGVuZXIgbm9yZWZlcnJlcicpO1xuICB9KTtcblxuICBpdCgnZGlzcGxheXMgcGhvbmUgYW5kIGVtYWlsIGFzIGFjY2Vzc2libGUgbGlua3MnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxJbml0aWF0aXZlQ2FyZCBpbml0aWF0aXZlPXttb2NrSW5pdGlhdGl2ZX0gLz4pO1xuXG4gICAgLy8gUGhvbmUgYW5kIGVtYWlsIGFyZSBkaXNwbGF5ZWQgYXMgaWNvbiBsaW5rcyB3aXRoIHRpdGxlIGF0dHJpYnV0ZXNcbiAgICBjb25zdCBwaG9uZUxpbmsgPSBzY3JlZW4uZ2V0QnlUaXRsZSgnQXBwZWxlcicpO1xuICAgIGV4cGVjdChwaG9uZUxpbmspLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICd0ZWw6MDEgMjMgNDUgNjcgODknKTtcbiAgICBcbiAgICBjb25zdCBlbWFpbExpbmsgPSBzY3JlZW4uZ2V0QnlUaXRsZSgnRW52b3llciB1biBlbWFpbCcpO1xuICAgIGV4cGVjdChlbWFpbExpbmspLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICdtYWlsdG86Y29udGFjdEByZXNzb3VyY2VyaWUtYmVsbGV2aWxsZS5mcicpO1xuICB9KTtcblxuICBpdCgnaGFuZGxlcyBjYXJkIGNsaWNrIHRvIGRpc3BsYXkgbW9yZSBkZXRhaWxzJywgKCkgPT4ge1xuICAgIGNvbnN0IG9uQ2xpY2tNb2NrID0gamVzdC5mbigpO1xuICAgIHJlbmRlcihcbiAgICAgIDxJbml0aWF0aXZlQ2FyZCBpbml0aWF0aXZlPXttb2NrSW5pdGlhdGl2ZX0gb25DbGljaz17b25DbGlja01vY2t9IC8+XG4gICAgKTtcblxuICAgIC8vIENhcmQgd2l0aCBvbkNsaWNrIGJlY29tZXMgYSBidXR0b24gcm9sZSBmb3IgYWNjZXNzaWJpbGl0eVxuICAgIGNvbnN0IGNhcmQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soY2FyZCk7XG5cbiAgICBleHBlY3Qob25DbGlja01vY2spLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICBleHBlY3Qob25DbGlja01vY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tJbml0aWF0aXZlKTtcbiAgfSk7XG5cbiAgaXQoJ2Rpc3BsYXlzIGltYWdlIHdoZW4gcHJlc2VudCcsICgpID0+IHtcbiAgICByZW5kZXIoPEluaXRpYXRpdmVDYXJkIGluaXRpYXRpdmU9e21vY2tJbml0aWF0aXZlfSAvPik7XG5cbiAgICBjb25zdCBpbWFnZSA9IHNjcmVlbi5nZXRCeUFsdFRleHQoJ1Jlc3NvdXJjZXJpZSBkZSBCZWxsZXZpbGxlJyk7XG4gICAgZXhwZWN0KGltYWdlKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChpbWFnZSkudG9IYXZlQXR0cmlidXRlKCdzcmMnKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgbWlzc2luZyBvcHRpb25hbCBpbmZvcm1hdGlvbicsICgpID0+IHtcbiAgICBjb25zdCBtaW5pbWFsSW5pdGlhdGl2ZTogSW5pdGlhdGl2ZSA9IHtcbiAgICAgIGlkOiAnMTIzJyxcbiAgICAgIG5hbWU6ICdJbml0aWF0aXZlIG1pbmltYWxlJyxcbiAgICAgIHR5cGU6ICdBdXRyZScsXG4gICAgICBsb2NhdGlvbjoge1xuICAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgICAgICBjb29yZGluYXRlczogWzIuMzUyMiwgNDguODU2Nl0sXG4gICAgICB9LFxuICAgICAgdmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTE1VDEwOjAwOjAwWicsXG4gICAgfTtcblxuICAgIHJlbmRlcig8SW5pdGlhdGl2ZUNhcmQgaW5pdGlhdGl2ZT17bWluaW1hbEluaXRpYXRpdmV9IC8+KTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdJbml0aWF0aXZlIG1pbmltYWxlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0F1dHJlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgvaHR0cC8pKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2FwcGxpZXMgY3VzdG9tIENTUyBjbGFzc2VzJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoXG4gICAgICA8SW5pdGlhdGl2ZUNhcmQgaW5pdGlhdGl2ZT17bW9ja0luaXRpYXRpdmV9IGNsYXNzTmFtZT1cImN1c3RvbS1jbGFzc1wiIC8+XG4gICAgKTtcblxuICAgIGNvbnN0IGNhcmQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmN1c3RvbS1jbGFzcycpO1xuICAgIGV4cGVjdChjYXJkKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnZGlzcGxheXMgb3BlbmluZyBob3VycyB3aGVuIGRldGFpbGVkIHZhcmlhbnQgaXMgdXNlZCcsICgpID0+IHtcbiAgICAvLyBPcGVuaW5nIGhvdXJzIGFyZSBzaG93biBpbiBkZXRhaWxlZCB2YXJpYW50IChlLmcuLCBpbiBwb3B1cC9tb2RhbClcbiAgICByZW5kZXIoPEluaXRpYXRpdmVDYXJkIGluaXRpYXRpdmU9e21vY2tJbml0aWF0aXZlfSB2YXJpYW50PVwiZGV0YWlsZWRcIiAvPik7XG5cbiAgICAvLyBEZXRhaWxlZCB2YXJpYW50IHNob3dzIG9wZW5pbmcgaG91cnMgc2VjdGlvblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9Ib3JhaXJlcy9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAvLyBPcGVuaW5nIGhvdXJzIGFyZSBmb3JtYXR0ZWQgaW4gYWJicmV2aWF0ZWQgZm9ybVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9MdW46L2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC8wOTowMC0xODowMC8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnaXMgYWNjZXNzaWJsZSB3aXRoIGFwcHJvcHJpYXRlIHNlbWFudGljIHN0cnVjdHVyZScsICgpID0+IHtcbiAgICByZW5kZXIoPEluaXRpYXRpdmVDYXJkIGluaXRpYXRpdmU9e21vY2tJbml0aWF0aXZlfSAvPik7XG5cbiAgICAvLyBXaXRob3V0IG9uQ2xpY2ssIGNhcmQgaXMgYSBzaW1wbGUgZGl2IGNvbnRhaW5lclxuICAgIC8vIFdpdGggb25DbGljaywgaXQgYmVjb21lcyBhIGJ1dHRvbiB3aXRoIHByb3BlciBhY2Nlc3NpYmlsaXR5XG4gICAgY29uc3QgaGVhZGluZyA9IHNjcmVlbi5nZXRCeVJvbGUoJ2hlYWRpbmcnLCB7IG5hbWU6ICdSZXNzb3VyY2VyaWUgZGUgQmVsbGV2aWxsZScgfSk7XG4gICAgZXhwZWN0KGhlYWRpbmcpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgXG4gICAgLy8gSW1hZ2UgaGFzIHByb3BlciBhbHQgdGV4dFxuICAgIGNvbnN0IGltYWdlID0gc2NyZWVuLmdldEJ5QWx0VGV4dCgnUmVzc291cmNlcmllIGRlIEJlbGxldmlsbGUnKTtcbiAgICBleHBlY3QoaW1hZ2UpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJjcmVhdGVDbGllbnQiLCJmbiIsImF1dGgiLCJnZXRVc2VyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJkYXRhIiwidXNlciIsImVycm9yIiwibW9ja0luaXRpYXRpdmUiLCJpZCIsIm5hbWUiLCJ0eXBlIiwiZGVzY3JpcHRpb24iLCJhZGRyZXNzIiwibG9jYXRpb24iLCJjb29yZGluYXRlcyIsInZlcmlmaWVkIiwiaW1hZ2VfdXJsIiwid2Vic2l0ZSIsInBob25lIiwiZW1haWwiLCJvcGVuaW5nX2hvdXJzIiwibW9uZGF5Iiwib3BlbiIsImNsb3NlIiwidHVlc2RheSIsIndlZG5lc2RheSIsInRodXJzZGF5IiwiZnJpZGF5Iiwic2F0dXJkYXkiLCJzdW5kYXkiLCJ1c2VyX2lkIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJkZXNjcmliZSIsIml0IiwicmVuZGVyIiwiSW5pdGlhdGl2ZUNhcmQiLCJpbml0aWF0aXZlIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJ1bnZlcmlmaWVkSW5pdGlhdGl2ZSIsInF1ZXJ5QnlUZXh0Iiwibm90Iiwid2Vic2l0ZUxpbmsiLCJnZXRCeVJvbGUiLCJ0b0hhdmVBdHRyaWJ1dGUiLCJwaG9uZUxpbmsiLCJnZXRCeVRpdGxlIiwiZW1haWxMaW5rIiwib25DbGlja01vY2siLCJvbkNsaWNrIiwiY2FyZCIsImZpcmVFdmVudCIsImNsaWNrIiwidG9IYXZlQmVlbkNhbGxlZFRpbWVzIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJpbWFnZSIsImdldEJ5QWx0VGV4dCIsIm1pbmltYWxJbml0aWF0aXZlIiwiY29udGFpbmVyIiwiY2xhc3NOYW1lIiwicXVlcnlTZWxlY3RvciIsInZhcmlhbnQiLCJoZWFkaW5nIl0s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