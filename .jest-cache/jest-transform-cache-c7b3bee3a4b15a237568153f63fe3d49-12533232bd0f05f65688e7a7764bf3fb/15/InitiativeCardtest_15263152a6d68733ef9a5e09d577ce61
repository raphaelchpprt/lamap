1bb9a6efa14f9dbca1c16621ecf46435
"use strict";
// Mock Supabase client
jest.mock('@/lib/supabase/client', ()=>({
        createClient: jest.fn(()=>({
                auth: {
                    getUser: jest.fn(()=>Promise.resolve({
                            data: {
                                user: null
                            },
                            error: null
                        }))
                }
            }))
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("@testing-library/react");
const _InitiativeCard = /*#__PURE__*/ _interop_require_default(require("../../components/Initiative/InitiativeCard"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
const mockInitiative = {
    id: '123e4567-e89b-12d3-a456-426614174000',
    name: 'Ressourcerie de Belleville',
    type: 'Ressourcerie',
    description: 'Une ressourcerie engagée pour le réemploi',
    address: '12 rue de Belleville, 75020 Paris',
    location: {
        type: 'Point',
        coordinates: [
            2.3894,
            48.8724
        ]
    },
    verified: true,
    image_url: 'https://example.com/image.jpg',
    website: 'https://ressourcerie-belleville.fr',
    phone: '01 23 45 67 89',
    email: 'contact@ressourcerie-belleville.fr',
    opening_hours: {
        monday: {
            open: '09:00',
            close: '18:00'
        },
        tuesday: {
            open: '09:00',
            close: '18:00'
        },
        wednesday: null,
        thursday: {
            open: '09:00',
            close: '18:00'
        },
        friday: {
            open: '09:00',
            close: '18:00'
        },
        saturday: {
            open: '10:00',
            close: '17:00'
        },
        sunday: null
    },
    user_id: 'user-123',
    created_at: '2024-01-15T10:00:00Z',
    updated_at: '2024-01-15T10:00:00Z'
};
describe('InitiativeCard', ()=>{
    it('displays basic initiative information', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        expect(_react.screen.getByText('Ressourcerie de Belleville')).toBeInTheDocument();
        expect(_react.screen.getByText('Ressourcerie')).toBeInTheDocument();
        expect(_react.screen.getByText(/Une ressourcerie engagée/)).toBeInTheDocument();
    });
    it('displays address when present', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        expect(_react.screen.getByText(/12 rue de Belleville/)).toBeInTheDocument();
    });
    it('displays "Verified" badge for verified initiatives', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        // The badge shows "Vérifiée" (feminine form for "initiative")
        expect(_react.screen.getByText('Vérifiée')).toBeInTheDocument();
    });
    it('does not display "Verified" badge for unverified initiatives', ()=>{
        const unverifiedInitiative = {
            ...mockInitiative,
            verified: false
        };
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: unverifiedInitiative
        }));
        expect(_react.screen.queryByText('Vérifiée')).not.toBeInTheDocument();
    });
    it('displays contact links when present', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        const websiteLink = _react.screen.getByRole('link', {
            name: /site web/i
        });
        expect(websiteLink).toHaveAttribute('href', 'https://ressourcerie-belleville.fr');
        expect(websiteLink).toHaveAttribute('target', '_blank');
        expect(websiteLink).toHaveAttribute('rel', 'noopener noreferrer');
    });
    it('displays phone and email as accessible links', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        // Phone and email are displayed as icon links with title attributes
        const phoneLink = _react.screen.getByTitle('Appeler');
        expect(phoneLink).toHaveAttribute('href', 'tel:01 23 45 67 89');
        const emailLink = _react.screen.getByTitle('Envoyer un email');
        expect(emailLink).toHaveAttribute('href', 'mailto:contact@ressourcerie-belleville.fr');
    });
    it('handles card click to display more details', ()=>{
        const onClickMock = jest.fn();
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative,
            onClick: onClickMock
        }));
        // Card with onClick becomes a button role for accessibility
        const card = _react.screen.getByRole('button');
        _react.fireEvent.click(card);
        expect(onClickMock).toHaveBeenCalledTimes(1);
        expect(onClickMock).toHaveBeenCalledWith(mockInitiative);
    });
    it('displays image when present', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        const image = _react.screen.getByAltText('Ressourcerie de Belleville');
        expect(image).toBeInTheDocument();
        expect(image).toHaveAttribute('src');
    });
    it('handles missing optional information', ()=>{
        const minimalInitiative = {
            id: '123',
            name: 'Initiative minimale',
            type: 'Autre',
            location: {
                type: 'Point',
                coordinates: [
                    2.3522,
                    48.8566
                ]
            },
            verified: false,
            created_at: '2024-01-15T10:00:00Z',
            updated_at: '2024-01-15T10:00:00Z'
        };
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: minimalInitiative
        }));
        expect(_react.screen.getByText('Initiative minimale')).toBeInTheDocument();
        expect(_react.screen.getByText('Autre')).toBeInTheDocument();
        expect(_react.screen.queryByText(/http/)).not.toBeInTheDocument();
    });
    it('applies custom CSS classes', ()=>{
        const { container } = (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative,
            className: "custom-class"
        }));
        const card = container.querySelector('.custom-class');
        expect(card).toBeInTheDocument();
    });
    it('displays opening hours when detailed variant is used', ()=>{
        // Opening hours are shown in detailed variant (e.g., in popup/modal)
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative,
            variant: "detailed"
        }));
        // Detailed variant shows opening hours section
        expect(_react.screen.getByText(/Horaires/i)).toBeInTheDocument();
        expect(_react.screen.getByText(/Lundi/i)).toBeInTheDocument();
        expect(_react.screen.getByText(/09:00 - 18:00/)).toBeInTheDocument();
    });
    it('is accessible with appropriate semantic structure', ()=>{
        (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_InitiativeCard.default, {
            initiative: mockInitiative
        }));
        // Without onClick, card is a simple div container
        // With onClick, it becomes a button with proper accessibility
        const heading = _react.screen.getByRole('heading', {
            name: 'Ressourcerie de Belleville'
        });
        expect(heading).toBeInTheDocument();
        // Image has proper alt text
        const image = _react.screen.getByAltText('Ressourcerie de Belleville');
        expect(image).toBeInTheDocument();
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9SYXBoYWVsL0RvY3VtZW50cy9ERVYubm9zeW5jL2xhbWFwL3NyYy9fX3Rlc3RzX18vY29tcG9uZW50cy9Jbml0aWF0aXZlQ2FyZC50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5cbmltcG9ydCBJbml0aWF0aXZlQ2FyZCBmcm9tICdAL2NvbXBvbmVudHMvSW5pdGlhdGl2ZS9Jbml0aWF0aXZlQ2FyZCc7XG5cbmltcG9ydCB0eXBlIHsgSW5pdGlhdGl2ZSB9IGZyb20gJ0AvdHlwZXMvaW5pdGlhdGl2ZSc7XG5cbi8vIE1vY2sgU3VwYWJhc2UgY2xpZW50XG5qZXN0Lm1vY2soJ0AvbGliL3N1cGFiYXNlL2NsaWVudCcsICgpID0+ICh7XG4gIGNyZWF0ZUNsaWVudDogamVzdC5mbigoKSA9PiAoe1xuICAgIGF1dGg6IHtcbiAgICAgIGdldFVzZXI6IGplc3QuZm4oKCkgPT5cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHsgZGF0YTogeyB1c2VyOiBudWxsIH0sIGVycm9yOiBudWxsIH0pXG4gICAgICApLFxuICAgIH0sXG4gIH0pKSxcbn0pKTtcblxuY29uc3QgbW9ja0luaXRpYXRpdmU6IEluaXRpYXRpdmUgPSB7XG4gIGlkOiAnMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwJyxcbiAgbmFtZTogJ1Jlc3NvdXJjZXJpZSBkZSBCZWxsZXZpbGxlJyxcbiAgdHlwZTogJ1Jlc3NvdXJjZXJpZScsXG4gIGRlc2NyaXB0aW9uOiAnVW5lIHJlc3NvdXJjZXJpZSBlbmdhZ8OpZSBwb3VyIGxlIHLDqWVtcGxvaScsXG4gIGFkZHJlc3M6ICcxMiBydWUgZGUgQmVsbGV2aWxsZSwgNzUwMjAgUGFyaXMnLFxuICBsb2NhdGlvbjoge1xuICAgIHR5cGU6ICdQb2ludCcsXG4gICAgY29vcmRpbmF0ZXM6IFsyLjM4OTQsIDQ4Ljg3MjRdLFxuICB9LFxuICB2ZXJpZmllZDogdHJ1ZSxcbiAgaW1hZ2VfdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS9pbWFnZS5qcGcnLFxuICB3ZWJzaXRlOiAnaHR0cHM6Ly9yZXNzb3VyY2VyaWUtYmVsbGV2aWxsZS5mcicsXG4gIHBob25lOiAnMDEgMjMgNDUgNjcgODknLFxuICBlbWFpbDogJ2NvbnRhY3RAcmVzc291cmNlcmllLWJlbGxldmlsbGUuZnInLFxuICBvcGVuaW5nX2hvdXJzOiB7XG4gICAgbW9uZGF5OiB7IG9wZW46ICcwOTowMCcsIGNsb3NlOiAnMTg6MDAnIH0sXG4gICAgdHVlc2RheTogeyBvcGVuOiAnMDk6MDAnLCBjbG9zZTogJzE4OjAwJyB9LFxuICAgIHdlZG5lc2RheTogbnVsbCxcbiAgICB0aHVyc2RheTogeyBvcGVuOiAnMDk6MDAnLCBjbG9zZTogJzE4OjAwJyB9LFxuICAgIGZyaWRheTogeyBvcGVuOiAnMDk6MDAnLCBjbG9zZTogJzE4OjAwJyB9LFxuICAgIHNhdHVyZGF5OiB7IG9wZW46ICcxMDowMCcsIGNsb3NlOiAnMTc6MDAnIH0sXG4gICAgc3VuZGF5OiBudWxsLFxuICB9LFxuICB1c2VyX2lkOiAndXNlci0xMjMnLFxuICBjcmVhdGVkX2F0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICB1cGRhdGVkX2F0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxufTtcblxuZGVzY3JpYmUoJ0luaXRpYXRpdmVDYXJkJywgKCkgPT4ge1xuICBpdCgnZGlzcGxheXMgYmFzaWMgaW5pdGlhdGl2ZSBpbmZvcm1hdGlvbicsICgpID0+IHtcbiAgICByZW5kZXIoPEluaXRpYXRpdmVDYXJkIGluaXRpYXRpdmU9e21vY2tJbml0aWF0aXZlfSAvPik7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUmVzc291cmNlcmllIGRlIEJlbGxldmlsbGUnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnUmVzc291cmNlcmllJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL1VuZSByZXNzb3VyY2VyaWUgZW5nYWfDqWUvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2Rpc3BsYXlzIGFkZHJlc3Mgd2hlbiBwcmVzZW50JywgKCkgPT4ge1xuICAgIHJlbmRlcig8SW5pdGlhdGl2ZUNhcmQgaW5pdGlhdGl2ZT17bW9ja0luaXRpYXRpdmV9IC8+KTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC8xMiBydWUgZGUgQmVsbGV2aWxsZS8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnZGlzcGxheXMgXCJWZXJpZmllZFwiIGJhZGdlIGZvciB2ZXJpZmllZCBpbml0aWF0aXZlcycsICgpID0+IHtcbiAgICByZW5kZXIoPEluaXRpYXRpdmVDYXJkIGluaXRpYXRpdmU9e21vY2tJbml0aWF0aXZlfSAvPik7XG5cbiAgICAvLyBUaGUgYmFkZ2Ugc2hvd3MgXCJWw6lyaWZpw6llXCIgKGZlbWluaW5lIGZvcm0gZm9yIFwiaW5pdGlhdGl2ZVwiKVxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdWw6lyaWZpw6llJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdkb2VzIG5vdCBkaXNwbGF5IFwiVmVyaWZpZWRcIiBiYWRnZSBmb3IgdW52ZXJpZmllZCBpbml0aWF0aXZlcycsICgpID0+IHtcbiAgICBjb25zdCB1bnZlcmlmaWVkSW5pdGlhdGl2ZSA9IHsgLi4ubW9ja0luaXRpYXRpdmUsIHZlcmlmaWVkOiBmYWxzZSB9O1xuICAgIHJlbmRlcig8SW5pdGlhdGl2ZUNhcmQgaW5pdGlhdGl2ZT17dW52ZXJpZmllZEluaXRpYXRpdmV9IC8+KTtcblxuICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ1bDqXJpZmnDqWUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdkaXNwbGF5cyBjb250YWN0IGxpbmtzIHdoZW4gcHJlc2VudCcsICgpID0+IHtcbiAgICByZW5kZXIoPEluaXRpYXRpdmVDYXJkIGluaXRpYXRpdmU9e21vY2tJbml0aWF0aXZlfSAvPik7XG5cbiAgICBjb25zdCB3ZWJzaXRlTGluayA9IHNjcmVlbi5nZXRCeVJvbGUoJ2xpbmsnLCB7IG5hbWU6IC9zaXRlIHdlYi9pIH0pO1xuICAgIGV4cGVjdCh3ZWJzaXRlTGluaykudG9IYXZlQXR0cmlidXRlKFxuICAgICAgJ2hyZWYnLFxuICAgICAgJ2h0dHBzOi8vcmVzc291cmNlcmllLWJlbGxldmlsbGUuZnInXG4gICAgKTtcbiAgICBleHBlY3Qod2Vic2l0ZUxpbmspLnRvSGF2ZUF0dHJpYnV0ZSgndGFyZ2V0JywgJ19ibGFuaycpO1xuICAgIGV4cGVjdCh3ZWJzaXRlTGluaykudG9IYXZlQXR0cmlidXRlKCdyZWwnLCAnbm9vcGVuZXIgbm9yZWZlcnJlcicpO1xuICB9KTtcblxuICBpdCgnZGlzcGxheXMgcGhvbmUgYW5kIGVtYWlsIGFzIGFjY2Vzc2libGUgbGlua3MnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxJbml0aWF0aXZlQ2FyZCBpbml0aWF0aXZlPXttb2NrSW5pdGlhdGl2ZX0gLz4pO1xuXG4gICAgLy8gUGhvbmUgYW5kIGVtYWlsIGFyZSBkaXNwbGF5ZWQgYXMgaWNvbiBsaW5rcyB3aXRoIHRpdGxlIGF0dHJpYnV0ZXNcbiAgICBjb25zdCBwaG9uZUxpbmsgPSBzY3JlZW4uZ2V0QnlUaXRsZSgnQXBwZWxlcicpO1xuICAgIGV4cGVjdChwaG9uZUxpbmspLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICd0ZWw6MDEgMjMgNDUgNjcgODknKTtcbiAgICBcbiAgICBjb25zdCBlbWFpbExpbmsgPSBzY3JlZW4uZ2V0QnlUaXRsZSgnRW52b3llciB1biBlbWFpbCcpO1xuICAgIGV4cGVjdChlbWFpbExpbmspLnRvSGF2ZUF0dHJpYnV0ZSgnaHJlZicsICdtYWlsdG86Y29udGFjdEByZXNzb3VyY2VyaWUtYmVsbGV2aWxsZS5mcicpO1xuICB9KTtcblxuICBpdCgnaGFuZGxlcyBjYXJkIGNsaWNrIHRvIGRpc3BsYXkgbW9yZSBkZXRhaWxzJywgKCkgPT4ge1xuICAgIGNvbnN0IG9uQ2xpY2tNb2NrID0gamVzdC5mbigpO1xuICAgIHJlbmRlcihcbiAgICAgIDxJbml0aWF0aXZlQ2FyZCBpbml0aWF0aXZlPXttb2NrSW5pdGlhdGl2ZX0gb25DbGljaz17b25DbGlja01vY2t9IC8+XG4gICAgKTtcblxuICAgIC8vIENhcmQgd2l0aCBvbkNsaWNrIGJlY29tZXMgYSBidXR0b24gcm9sZSBmb3IgYWNjZXNzaWJpbGl0eVxuICAgIGNvbnN0IGNhcmQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soY2FyZCk7XG5cbiAgICBleHBlY3Qob25DbGlja01vY2spLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICBleHBlY3Qob25DbGlja01vY2spLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKG1vY2tJbml0aWF0aXZlKTtcbiAgfSk7XG5cbiAgaXQoJ2Rpc3BsYXlzIGltYWdlIHdoZW4gcHJlc2VudCcsICgpID0+IHtcbiAgICByZW5kZXIoPEluaXRpYXRpdmVDYXJkIGluaXRpYXRpdmU9e21vY2tJbml0aWF0aXZlfSAvPik7XG5cbiAgICBjb25zdCBpbWFnZSA9IHNjcmVlbi5nZXRCeUFsdFRleHQoJ1Jlc3NvdXJjZXJpZSBkZSBCZWxsZXZpbGxlJyk7XG4gICAgZXhwZWN0KGltYWdlKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChpbWFnZSkudG9IYXZlQXR0cmlidXRlKCdzcmMnKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgbWlzc2luZyBvcHRpb25hbCBpbmZvcm1hdGlvbicsICgpID0+IHtcbiAgICBjb25zdCBtaW5pbWFsSW5pdGlhdGl2ZTogSW5pdGlhdGl2ZSA9IHtcbiAgICAgIGlkOiAnMTIzJyxcbiAgICAgIG5hbWU6ICdJbml0aWF0aXZlIG1pbmltYWxlJyxcbiAgICAgIHR5cGU6ICdBdXRyZScsXG4gICAgICBsb2NhdGlvbjoge1xuICAgICAgICB0eXBlOiAnUG9pbnQnLFxuICAgICAgICBjb29yZGluYXRlczogWzIuMzUyMiwgNDguODU2Nl0sXG4gICAgICB9LFxuICAgICAgdmVyaWZpZWQ6IGZhbHNlLFxuICAgICAgY3JlYXRlZF9hdDogJzIwMjQtMDEtMTVUMTA6MDA6MDBaJyxcbiAgICAgIHVwZGF0ZWRfYXQ6ICcyMDI0LTAxLTE1VDEwOjAwOjAwWicsXG4gICAgfTtcblxuICAgIHJlbmRlcig8SW5pdGlhdGl2ZUNhcmQgaW5pdGlhdGl2ZT17bWluaW1hbEluaXRpYXRpdmV9IC8+KTtcblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdJbml0aWF0aXZlIG1pbmltYWxlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0F1dHJlJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgvaHR0cC8pKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2FwcGxpZXMgY3VzdG9tIENTUyBjbGFzc2VzJywgKCkgPT4ge1xuICAgIGNvbnN0IHsgY29udGFpbmVyIH0gPSByZW5kZXIoXG4gICAgICA8SW5pdGlhdGl2ZUNhcmQgaW5pdGlhdGl2ZT17bW9ja0luaXRpYXRpdmV9IGNsYXNzTmFtZT1cImN1c3RvbS1jbGFzc1wiIC8+XG4gICAgKTtcblxuICAgIGNvbnN0IGNhcmQgPSBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmN1c3RvbS1jbGFzcycpO1xuICAgIGV4cGVjdChjYXJkKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnZGlzcGxheXMgb3BlbmluZyBob3VycyB3aGVuIGRldGFpbGVkIHZhcmlhbnQgaXMgdXNlZCcsICgpID0+IHtcbiAgICAvLyBPcGVuaW5nIGhvdXJzIGFyZSBzaG93biBpbiBkZXRhaWxlZCB2YXJpYW50IChlLmcuLCBpbiBwb3B1cC9tb2RhbClcbiAgICByZW5kZXIoPEluaXRpYXRpdmVDYXJkIGluaXRpYXRpdmU9e21vY2tJbml0aWF0aXZlfSB2YXJpYW50PVwiZGV0YWlsZWRcIiAvPik7XG5cbiAgICAvLyBEZXRhaWxlZCB2YXJpYW50IHNob3dzIG9wZW5pbmcgaG91cnMgc2VjdGlvblxuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9Ib3JhaXJlcy9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvTHVuZGkvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoLzA5OjAwIC0gMTg6MDAvKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2lzIGFjY2Vzc2libGUgd2l0aCBhcHByb3ByaWF0ZSBzZW1hbnRpYyBzdHJ1Y3R1cmUnLCAoKSA9PiB7XG4gICAgcmVuZGVyKDxJbml0aWF0aXZlQ2FyZCBpbml0aWF0aXZlPXttb2NrSW5pdGlhdGl2ZX0gLz4pO1xuXG4gICAgLy8gV2l0aG91dCBvbkNsaWNrLCBjYXJkIGlzIGEgc2ltcGxlIGRpdiBjb250YWluZXJcbiAgICAvLyBXaXRoIG9uQ2xpY2ssIGl0IGJlY29tZXMgYSBidXR0b24gd2l0aCBwcm9wZXIgYWNjZXNzaWJpbGl0eVxuICAgIGNvbnN0IGhlYWRpbmcgPSBzY3JlZW4uZ2V0QnlSb2xlKCdoZWFkaW5nJywgeyBuYW1lOiAnUmVzc291cmNlcmllIGRlIEJlbGxldmlsbGUnIH0pO1xuICAgIGV4cGVjdChoZWFkaW5nKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIFxuICAgIC8vIEltYWdlIGhhcyBwcm9wZXIgYWx0IHRleHRcbiAgICBjb25zdCBpbWFnZSA9IHNjcmVlbi5nZXRCeUFsdFRleHQoJ1Jlc3NvdXJjZXJpZSBkZSBCZWxsZXZpbGxlJyk7XG4gICAgZXhwZWN0KGltYWdlKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiY3JlYXRlQ2xpZW50IiwiZm4iLCJhdXRoIiwiZ2V0VXNlciIsIlByb21pc2UiLCJyZXNvbHZlIiwiZGF0YSIsInVzZXIiLCJlcnJvciIsIm1vY2tJbml0aWF0aXZlIiwiaWQiLCJuYW1lIiwidHlwZSIsImRlc2NyaXB0aW9uIiwiYWRkcmVzcyIsImxvY2F0aW9uIiwiY29vcmRpbmF0ZXMiLCJ2ZXJpZmllZCIsImltYWdlX3VybCIsIndlYnNpdGUiLCJwaG9uZSIsImVtYWlsIiwib3BlbmluZ19ob3VycyIsIm1vbmRheSIsIm9wZW4iLCJjbG9zZSIsInR1ZXNkYXkiLCJ3ZWRuZXNkYXkiLCJ0aHVyc2RheSIsImZyaWRheSIsInNhdHVyZGF5Iiwic3VuZGF5IiwidXNlcl9pZCIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiZGVzY3JpYmUiLCJpdCIsInJlbmRlciIsIkluaXRpYXRpdmVDYXJkIiwiaW5pdGlhdGl2ZSIsImV4cGVjdCIsInNjcmVlbiIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwidW52ZXJpZmllZEluaXRpYXRpdmUiLCJxdWVyeUJ5VGV4dCIsIm5vdCIsIndlYnNpdGVMaW5rIiwiZ2V0QnlSb2xlIiwidG9IYXZlQXR0cmlidXRlIiwicGhvbmVMaW5rIiwiZ2V0QnlUaXRsZSIsImVtYWlsTGluayIsIm9uQ2xpY2tNb2NrIiwib25DbGljayIsImNhcmQiLCJmaXJlRXZlbnQiLCJjbGljayIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiaW1hZ2UiLCJnZXRCeUFsdFRleHQiLCJtaW5pbWFsSW5pdGlhdGl2ZSIsImNvbnRhaW5lciIsImNsYXNzTmFtZSIsInF1ZXJ5U2VsZWN0b3IiLCJ2YXJpYW50IiwiaGVhZGluZyJdLCJtYXBwaW5ncyI6IjtBQU1BLHVCQUF1QjtBQUN2QkEsS0FBS0MsSUFBSSxDQUFDLHlCQUF5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