4d5d857681c299b2432692c1ef04b61b
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, // ================================
// MAIN COMPONENT
// ================================
"default", {
    enumerable: true,
    get: function() {
        return Map;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _mapboxgl = /*#__PURE__*/ _interop_require_default(require("mapbox-gl"));
require("mapbox-gl/dist/mapbox-gl.css");
const _react = require("react");
const _client = require("../../lib/supabase/client");
const _types = require("../../lib/supabase/types");
const _initiative = require("../../types/initiative");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// ================================
// CONFIGURATION
// ================================
const DEFAULT_CONFIG = {
    style: 'mapbox://styles/mapbox/light-v11',
    center: [
        2.3522,
        46.6034
    ],
    zoom: 6,
    minZoom: 3,
    maxZoom: 18
};
function Map({ className = 'h-full w-full', filters, onInitiativeClick, onMapClick, enableClustering = true, autoFit = false, initiatives: externalInitiatives }) {
    // ================================
    // STATE // STATE & REFS REFS
    // ================================
    const mapContainer = (0, _react.useRef)(null);
    const map = (0, _react.useRef)(null);
    const [isLoaded, setIsLoaded] = (0, _react.useState)(false);
    const [initiatives, setInitiatives] = (0, _react.useState)([]);
    const [loading, setLoading] = (0, _react.useState)(false);
    const [error, setError] = (0, _react.useState)(null);
    // ================================
    // MAP INITIALIZATION
    // ================================
    (0, _react.useEffect)(()=>{
        if (!mapContainer.current || map.current) return;
        // Check for Mapbox token
        const token = process.env.NEXT_PUBLIC_MAPBOX_TOKEN;
        if (!token) {
            setError('Missing Mapbox token. Check your .env.local file');
            return;
        }
        _mapboxgl.default.accessToken = token;
        try {
            map.current = new _mapboxgl.default.Map({
                container: mapContainer.current,
                style: DEFAULT_CONFIG.style,
                center: DEFAULT_CONFIG.center,
                zoom: DEFAULT_CONFIG.zoom,
                minZoom: DEFAULT_CONFIG.minZoom,
                maxZoom: DEFAULT_CONFIG.maxZoom,
                antialias: true
            });
            map.current.on('load', ()=>{
                setIsLoaded(true);
                if (map.current) {
                    setupMapSources();
                    setupMapLayers();
                    setupMapInteractions();
                }
            });
            // Navigation controls
            map.current.addControl(new _mapboxgl.default.NavigationControl(), 'top-right');
            // Geolocation
            map.current.addControl(new _mapboxgl.default.GeolocateControl({
                positionOptions: {
                    enableHighAccuracy: true
                },
                trackUserLocation: true,
                showUserHeading: true
            }), 'top-right');
            // Fullscreen control
            map.current.addControl(new _mapboxgl.default.FullscreenControl(), 'top-right');
        } catch (err) {
            console.error('Error initializing map:', err);
            setError('Unable to initialize Mapbox map');
        }
        return ()=>{
            if (map.current) {
                map.current.remove();
                map.current = null;
                setIsLoaded(false);
            }
        };
    // eslint-disable-next-line react-hooks/exhaustive-deps
    }, []);
    // ================================
    // LOADING INITIATIVES
    // ================================
    const loadInitiatives = (0, _react.useCallback)(async ()=>{
        if (externalInitiatives) {
            setInitiatives(externalInitiatives);
            return;
        }
        setLoading(true);
        setError(null);
        try {
            const supabase = (0, _client.createClient)();
            let query = supabase.from('initiatives').select('*');
            // Apply filters
            if (filters?.types?.length) {
                query = query.in('type', filters.types);
            }
            if (filters?.verified_only) {
                query = query.eq('verified', true);
            }
            if (filters?.search_query) {
                query = query.or(`name.ilike.%${filters.search_query}%,description.ilike.%${filters.search_query}%`);
            }
            const { data, error: dbError } = await query;
            if (dbError) {
                throw new Error(`Erreur Supabase: ${dbError.message}`);
            }
            const formattedInitiatives = (data || []).map(_types.databaseInitiativeToInitiative);
            setInitiatives(formattedInitiatives);
        } catch (err) {
            console.error('Erreur lors du chargement des initiatives:', err);
            setError(err instanceof Error ? err.message : 'Erreur inconnue');
        } finally{
            setLoading(false);
        }
    }, [
        filters,
        externalInitiatives
    ]);
    (0, _react.useEffect)(()=>{
        loadInitiatives();
    }, [
        loadInitiatives
    ]);
    // ================================
    // MAPBOX SOURCES CONFIGURATION
    // ================================
    const setupMapSources = (0, _react.useCallback)(()=>{
        if (!map.current) return;
        // Source for initiatives (points)
        if (!map.current.getSource('initiatives')) {
            map.current.addSource('initiatives', {
                type: 'geojson',
                data: {
                    type: 'FeatureCollection',
                    features: []
                },
                cluster: enableClustering,
                clusterMaxZoom: 14,
                clusterRadius: 50
            });
        }
    }, [
        enableClustering
    ]);
    // ================================
    // LAYERS CONFIGURATION
    // ================================
    const setupMapLayers = (0, _react.useCallback)(()=>{
        if (!map.current) return;
        // Clusters
        if (enableClustering) {
            // Circles for clusters
            if (!map.current.getLayer('clusters')) {
                map.current.addLayer({
                    id: 'clusters',
                    type: 'circle',
                    source: 'initiatives',
                    filter: [
                        'has',
                        'point_count'
                    ],
                    paint: {
                        'circle-color': [
                            'step',
                            [
                                'get',
                                'point_count'
                            ],
                            '#51bbd6',
                            10,
                            '#f1c40f',
                            50,
                            '#e74c3c'
                        ],
                        'circle-radius': [
                            'step',
                            [
                                'get',
                                'point_count'
                            ],
                            20,
                            10,
                            30,
                            50,
                            40
                        ],
                        'circle-stroke-width': 2,
                        'circle-stroke-color': '#fff'
                    }
                });
            }
            // Numbers on clusters
            if (!map.current.getLayer('cluster-count')) {
                map.current.addLayer({
                    id: 'cluster-count',
                    type: 'symbol',
                    source: 'initiatives',
                    filter: [
                        'has',
                        'point_count'
                    ],
                    layout: {
                        'text-field': '{point_count_abbreviated}',
                        'text-font': [
                            'DIN Offc Pro Medium',
                            'Arial Unicode MS Bold'
                        ],
                        'text-size': 12
                    },
                    paint: {
                        'text-color': '#ffffff'
                    }
                });
            }
        }
        // Individual points (not clustered)
        if (!map.current.getLayer('unclustered-point')) {
            map.current.addLayer({
                id: 'unclustered-point',
                type: 'circle',
                source: 'initiatives',
                filter: enableClustering ? [
                    '!',
                    [
                        'has',
                        'point_count'
                    ]
                ] : undefined,
                paint: {
                    'circle-radius': [
                        'interpolate',
                        [
                            'linear'
                        ],
                        [
                            'zoom'
                        ],
                        8,
                        4,
                        12,
                        8,
                        16,
                        12
                    ],
                    'circle-color': [
                        'match',
                        [
                            'get',
                            'type'
                        ],
                        'Ressourcerie',
                        _initiative.INITIATIVE_COLORS['Ressourcerie'],
                        'Repair Café',
                        _initiative.INITIATIVE_COLORS['Repair Café'],
                        'AMAP',
                        _initiative.INITIATIVE_COLORS['AMAP'],
                        "Entreprise d'insertion",
                        _initiative.INITIATIVE_COLORS["Entreprise d'insertion"],
                        'Point de collecte',
                        _initiative.INITIATIVE_COLORS['Point de collecte'],
                        'Recyclerie',
                        _initiative.INITIATIVE_COLORS['Recyclerie'],
                        'Épicerie sociale',
                        _initiative.INITIATIVE_COLORS['Épicerie sociale'],
                        'Jardin partagé',
                        _initiative.INITIATIVE_COLORS['Jardin partagé'],
                        'Fab Lab',
                        _initiative.INITIATIVE_COLORS['Fab Lab'],
                        'Coopérative',
                        _initiative.INITIATIVE_COLORS['Coopérative'],
                        'Monnaie locale',
                        _initiative.INITIATIVE_COLORS['Monnaie locale'],
                        'Tiers-lieu',
                        _initiative.INITIATIVE_COLORS['Tiers-lieu'],
                        _initiative.INITIATIVE_COLORS['Autre']
                    ],
                    'circle-stroke-width': 2,
                    'circle-stroke-color': '#ffffff',
                    'circle-opacity': 0.8
                }
            });
        }
    }, [
        enableClustering
    ]);
    // ================================
    // MAP INTERACTIONS
    // ================================
    const setupMapInteractions = (0, _react.useCallback)(()=>{
        if (!map.current) return;
        // Pointer cursor on interactive elements
        map.current.on('mouseenter', 'clusters', ()=>{
            if (map.current) map.current.getCanvas().style.cursor = 'pointer';
        });
        map.current.on('mouseleave', 'clusters', ()=>{
            if (map.current) map.current.getCanvas().style.cursor = '';
        });
        map.current.on('mouseenter', 'unclustered-point', ()=>{
            if (map.current) map.current.getCanvas().style.cursor = 'pointer';
        });
        map.current.on('mouseleave', 'unclustered-point', ()=>{
            if (map.current) map.current.getCanvas().style.cursor = '';
        });
        // Click on cluster: zoom
        map.current.on('click', 'clusters', (e)=>{
            if (!map.current) return;
            const features = map.current.queryRenderedFeatures(e.point, {
                layers: [
                    'clusters'
                ]
            });
            const clusterId = features[0]?.properties?.cluster_id;
            if (clusterId) {
                const source = map.current.getSource('initiatives');
                source.getClusterExpansionZoom(clusterId, (err, zoom)=>{
                    if (err || !map.current || zoom === null || zoom === undefined) return;
                    map.current.easeTo({
                        center: features[0].geometry.coordinates,
                        zoom
                    });
                });
            }
        });
        // Click on point: show details
        map.current.on('click', 'unclustered-point', (e)=>{
            const features = e.features?.[0];
            if (features?.properties && onInitiativeClick) {
                const initiative = JSON.parse(features.properties.initiative);
                onInitiativeClick(initiative);
            }
        });
        // Click on map
        map.current.on('click', (e)=>{
            const features = map.current?.queryRenderedFeatures(e.point, {
                layers: [
                    'clusters',
                    'unclustered-point'
                ]
            });
            // If we didn't click on a marker/cluster
            if (!features?.length && onMapClick) {
                onMapClick([
                    e.lngLat.lng,
                    e.lngLat.lat
                ]);
            }
        });
    }, [
        onInitiativeClick,
        onMapClick
    ]);
    // ================================
    // DATA UPDATE
    // ================================
    (0, _react.useEffect)(()=>{
        if (!map.current || !isLoaded) return;
        const source = map.current.getSource('initiatives');
        if (!source) return;
        // Convert to GeoJSON
        const geojsonData = {
            type: 'FeatureCollection',
            features: initiatives.map((initiative)=>({
                    type: 'Feature',
                    geometry: initiative.location,
                    properties: {
                        id: initiative.id,
                        name: initiative.name,
                        type: initiative.type,
                        verified: initiative.verified,
                        initiative: JSON.stringify(initiative)
                    }
                }))
        };
        source.setData(geojsonData);
        // Auto-fit si demandé
        if (autoFit && initiatives.length > 0) {
            const coordinates = initiatives.map((i)=>i.location.coordinates);
            const bounds = coordinates.reduce((bounds, coord)=>bounds.extend(coord), new _mapboxgl.default.LngLatBounds(coordinates[0], coordinates[0]));
            map.current.fitBounds(bounds, {
                padding: 50,
                maxZoom: 12
            });
        }
    }, [
        initiatives,
        isLoaded,
        autoFit
    ]);
    // ================================
    // PUBLIC METHODS (exposed via ref if needed)
    // ================================
    const _flyTo = (0, _react.useCallback)((coordinates, zoom = 14)=>{
        if (map.current) {
            map.current.flyTo({
                center: coordinates,
                zoom
            });
        }
    }, []);
    const _fitBounds = (0, _react.useCallback)((bounds)=>{
        if (map.current) {
            map.current.fitBounds(bounds, {
                padding: 50
            });
        }
    }, []);
    // ================================
    // RENDU
    // ================================
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: `relative ${className}`,
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                ref: mapContainer,
                className: "h-full w-full",
                "data-testid": "mapbox-container"
            }),
            loading && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "absolute inset-0 bg-white/80 flex items-center justify-center z-10",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "bg-white rounded-lg shadow-lg p-4 flex items-center space-x-3",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "animate-spin rounded-full h-6 w-6 border-b-2 border-primary-500"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                            className: "text-sm font-medium",
                            children: "Chargement des initiatives..."
                        })
                    ]
                })
            }),
            error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "absolute top-4 left-4 right-4 z-20",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "bg-red-50 border border-red-200 rounded-lg p-4",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "flex-shrink-0",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                    className: "h-5 w-5 text-red-400",
                                    viewBox: "0 0 20 20",
                                    fill: "currentColor",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                        fillRule: "evenodd",
                                        d: "M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",
                                        clipRule: "evenodd"
                                    })
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "ml-3",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                        className: "text-sm font-medium text-red-800",
                                        children: "Erreur de chargement"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "mt-2 text-sm text-red-700",
                                        children: error
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "mt-3",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                            onClick: ()=>{
                                                setError(null);
                                                loadInitiatives();
                                            },
                                            className: "text-sm bg-red-100 hover:bg-red-200 text-red-800 px-3 py-2 rounded-md transition-colors",
                                            children: "R\xe9essayer"
                                        })
                                    })
                                ]
                            })
                        ]
                    })
                })
            }),
            !loading && !error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "absolute bottom-4 left-4 z-10",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 shadow-sm",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                        className: "text-xs text-gray-600",
                        children: [
                            initiatives.length,
                            " initiative",
                            initiatives.length > 1 ? 's' : '',
                            ' ',
                            "affich\xe9e",
                            initiatives.length > 1 ? 's' : ''
                        ]
                    })
                })
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9SYXBoYWVsL0RvY3VtZW50cy9ERVYubm9zeW5jL2xhbWFwL3NyYy9jb21wb25lbnRzL01hcC9NYXAudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuLyoqXG4gKiBNYWluIE1hcCBDb21wb25lbnQgZm9yIExhTWFwXG4gKlxuICogVXNlcyBNYXBib3ggR0wgSlMgdG8gZGlzcGxheSBhbiBpbnRlcmFjdGl2ZSBtYXAgd2l0aCBFU1MgaW5pdGlhdGl2ZXMuXG4gKiBTdXBwb3J0cyBjbHVzdGVyaW5nLCBmaWx0ZXJzLCBhbmQgbWFya2VyIGludGVyYWN0aW9uLlxuICovXG5cbmltcG9ydCBtYXBib3hnbCBmcm9tICdtYXBib3gtZ2wnO1xuaW1wb3J0ICdtYXBib3gtZ2wvZGlzdC9tYXBib3gtZ2wuY3NzJztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0AvbGliL3N1cGFiYXNlL2NsaWVudCc7XG5pbXBvcnQgeyBkYXRhYmFzZUluaXRpYXRpdmVUb0luaXRpYXRpdmUgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS90eXBlcyc7XG5pbXBvcnQgeyBJTklUSUFUSVZFX0NPTE9SUyB9IGZyb20gJ0AvdHlwZXMvaW5pdGlhdGl2ZSc7XG5cbmltcG9ydCB0eXBlIHsgSW5pdGlhdGl2ZSwgSW5pdGlhdGl2ZUZpbHRlcnMgfSBmcm9tICdAL3R5cGVzL2luaXRpYXRpdmUnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ09ORklHVVJBVElPTlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgREVGQVVMVF9DT05GSUcgPSB7XG4gIHN0eWxlOiAnbWFwYm94Oi8vc3R5bGVzL21hcGJveC9saWdodC12MTEnLFxuICBjZW50ZXI6IFsyLjM1MjIsIDQ2LjYwMzRdIGFzIFtudW1iZXIsIG51bWJlcl0sIC8vIENlbnRlciBvZiBGcmFuY2VcbiAgem9vbTogNixcbiAgbWluWm9vbTogMyxcbiAgbWF4Wm9vbTogMTgsXG59IGFzIGNvbnN0O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVFlQRVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmludGVyZmFjZSBNYXBQcm9wcyB7XG4gIC8qKiBDbGFzc2VzIENTUyBwZXJzb25uYWxpc8OpZXMgKi9cbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xuXG4gIC8qKiBGaWx0cmVzIGFwcGxpcXXDqXMgYXV4IGluaXRpYXRpdmVzICovXG4gIGZpbHRlcnM/OiBJbml0aWF0aXZlRmlsdGVycztcblxuICAvKiogQ2FsbGJhY2sgbG9ycyBkdSBjbGljIHN1ciB1bmUgaW5pdGlhdGl2ZSAqL1xuICBvbkluaXRpYXRpdmVDbGljaz86IChpbml0aWF0aXZlOiBJbml0aWF0aXZlKSA9PiB2b2lkO1xuXG4gIC8qKiBDYWxsYmFjayBsb3JzIGR1IGNsaWMgc3VyIGxhIGNhcnRlICovXG4gIG9uTWFwQ2xpY2s/OiAoY29vcmRpbmF0ZXM6IFtudW1iZXIsIG51bWJlcl0pID0+IHZvaWQ7XG5cbiAgLyoqIEFjdGl2ZXIvZMOpc2FjdGl2ZXIgbGUgY2x1c3RlcmluZyAqL1xuICBlbmFibGVDbHVzdGVyaW5nPzogYm9vbGVhbjtcblxuICAvKiogQ2VudHJlciBhdXRvbWF0aXF1ZW1lbnQgc3VyIGxlcyBpbml0aWF0aXZlcyAqL1xuICBhdXRvRml0PzogYm9vbGVhbjtcblxuICAvKiogSW5pdGlhdGl2ZXMgw6AgYWZmaWNoZXIgKHNpIG5vbiBmb3VybmksIGNoYXJnw6llcyBkZXB1aXMgU3VwYWJhc2UpICovXG4gIGluaXRpYXRpdmVzPzogSW5pdGlhdGl2ZVtdO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gTUFJTiBDT01QT05FTlRcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1hcCh7XG4gIGNsYXNzTmFtZSA9ICdoLWZ1bGwgdy1mdWxsJyxcbiAgZmlsdGVycyxcbiAgb25Jbml0aWF0aXZlQ2xpY2ssXG4gIG9uTWFwQ2xpY2ssXG4gIGVuYWJsZUNsdXN0ZXJpbmcgPSB0cnVlLFxuICBhdXRvRml0ID0gZmFsc2UsXG4gIGluaXRpYXRpdmVzOiBleHRlcm5hbEluaXRpYXRpdmVzLFxufTogTWFwUHJvcHMpIHtcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gU1RBVEUgLy8gU1RBVEUgJiBSRUZTIFJFRlNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBjb25zdCBtYXBDb250YWluZXIgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBtYXAgPSB1c2VSZWY8bWFwYm94Z2wuTWFwIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0xvYWRlZCwgc2V0SXNMb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaW5pdGlhdGl2ZXMsIHNldEluaXRpYXRpdmVzXSA9IHVzZVN0YXRlPEluaXRpYXRpdmVbXT4oW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gTUFQIElOSVRJQUxJWkFUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW1hcENvbnRhaW5lci5jdXJyZW50IHx8IG1hcC5jdXJyZW50KSByZXR1cm47XG5cbiAgICAvLyBDaGVjayBmb3IgTWFwYm94IHRva2VuXG4gICAgY29uc3QgdG9rZW4gPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19NQVBCT1hfVE9LRU47XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgc2V0RXJyb3IoJ01pc3NpbmcgTWFwYm94IHRva2VuLiBDaGVjayB5b3VyIC5lbnYubG9jYWwgZmlsZScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG1hcGJveGdsLmFjY2Vzc1Rva2VuID0gdG9rZW47XG5cbiAgICB0cnkge1xuICAgICAgbWFwLmN1cnJlbnQgPSBuZXcgbWFwYm94Z2wuTWFwKHtcbiAgICAgICAgY29udGFpbmVyOiBtYXBDb250YWluZXIuY3VycmVudCxcbiAgICAgICAgc3R5bGU6IERFRkFVTFRfQ09ORklHLnN0eWxlLFxuICAgICAgICBjZW50ZXI6IERFRkFVTFRfQ09ORklHLmNlbnRlcixcbiAgICAgICAgem9vbTogREVGQVVMVF9DT05GSUcuem9vbSxcbiAgICAgICAgbWluWm9vbTogREVGQVVMVF9DT05GSUcubWluWm9vbSxcbiAgICAgICAgbWF4Wm9vbTogREVGQVVMVF9DT05GSUcubWF4Wm9vbSxcbiAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgfSk7XG5cbiAgICAgIG1hcC5jdXJyZW50Lm9uKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICBzZXRJc0xvYWRlZCh0cnVlKTtcbiAgICAgICAgaWYgKG1hcC5jdXJyZW50KSB7XG4gICAgICAgICAgc2V0dXBNYXBTb3VyY2VzKCk7XG4gICAgICAgICAgc2V0dXBNYXBMYXllcnMoKTtcbiAgICAgICAgICBzZXR1cE1hcEludGVyYWN0aW9ucygpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gTmF2aWdhdGlvbiBjb250cm9sc1xuICAgICAgbWFwLmN1cnJlbnQuYWRkQ29udHJvbChuZXcgbWFwYm94Z2wuTmF2aWdhdGlvbkNvbnRyb2woKSwgJ3RvcC1yaWdodCcpO1xuXG4gICAgICAvLyBHZW9sb2NhdGlvblxuICAgICAgbWFwLmN1cnJlbnQuYWRkQ29udHJvbChcbiAgICAgICAgbmV3IG1hcGJveGdsLkdlb2xvY2F0ZUNvbnRyb2woe1xuICAgICAgICAgIHBvc2l0aW9uT3B0aW9uczogeyBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUgfSxcbiAgICAgICAgICB0cmFja1VzZXJMb2NhdGlvbjogdHJ1ZSxcbiAgICAgICAgICBzaG93VXNlckhlYWRpbmc6IHRydWUsXG4gICAgICAgIH0pLFxuICAgICAgICAndG9wLXJpZ2h0J1xuICAgICAgKTtcblxuICAgICAgLy8gRnVsbHNjcmVlbiBjb250cm9sXG4gICAgICBtYXAuY3VycmVudC5hZGRDb250cm9sKG5ldyBtYXBib3hnbC5GdWxsc2NyZWVuQ29udHJvbCgpLCAndG9wLXJpZ2h0Jyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgbWFwOicsIGVycik7XG4gICAgICBzZXRFcnJvcignVW5hYmxlIHRvIGluaXRpYWxpemUgTWFwYm94IG1hcCcpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAobWFwLmN1cnJlbnQpIHtcbiAgICAgICAgbWFwLmN1cnJlbnQucmVtb3ZlKCk7XG4gICAgICAgIG1hcC5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgc2V0SXNMb2FkZWQoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gTE9BRElORyBJTklUSUFUSVZFU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGNvbnN0IGxvYWRJbml0aWF0aXZlcyA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoZXh0ZXJuYWxJbml0aWF0aXZlcykge1xuICAgICAgc2V0SW5pdGlhdGl2ZXMoZXh0ZXJuYWxJbml0aWF0aXZlcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBzZXRFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpO1xuXG4gICAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZS5mcm9tKCdpbml0aWF0aXZlcycpLnNlbGVjdCgnKicpO1xuXG4gICAgICAvLyBBcHBseSBmaWx0ZXJzXG4gICAgICBpZiAoZmlsdGVycz8udHlwZXM/Lmxlbmd0aCkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmluKCd0eXBlJywgZmlsdGVycy50eXBlcyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmaWx0ZXJzPy52ZXJpZmllZF9vbmx5KSB7XG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3ZlcmlmaWVkJywgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChmaWx0ZXJzPy5zZWFyY2hfcXVlcnkpIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5vcihcbiAgICAgICAgICBgbmFtZS5pbGlrZS4lJHtmaWx0ZXJzLnNlYXJjaF9xdWVyeX0lLGRlc2NyaXB0aW9uLmlsaWtlLiUke2ZpbHRlcnMuc2VhcmNoX3F1ZXJ5fSVgXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3I6IGRiRXJyb3IgfSA9IGF3YWl0IHF1ZXJ5O1xuXG4gICAgICBpZiAoZGJFcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycmV1ciBTdXBhYmFzZTogJHtkYkVycm9yLm1lc3NhZ2V9YCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGZvcm1hdHRlZEluaXRpYXRpdmVzID0gKGRhdGEgfHwgW10pLm1hcChcbiAgICAgICAgZGF0YWJhc2VJbml0aWF0aXZlVG9Jbml0aWF0aXZlXG4gICAgICApO1xuICAgICAgc2V0SW5pdGlhdGl2ZXMoZm9ybWF0dGVkSW5pdGlhdGl2ZXMpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudCBkZXMgaW5pdGlhdGl2ZXM6JywgZXJyKTtcbiAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRXJyZXVyIGluY29ubnVlJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2ZpbHRlcnMsIGV4dGVybmFsSW5pdGlhdGl2ZXNdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvYWRJbml0aWF0aXZlcygpO1xuICB9LCBbbG9hZEluaXRpYXRpdmVzXSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gTUFQQk9YIFNPVVJDRVMgQ09ORklHVVJBVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGNvbnN0IHNldHVwTWFwU291cmNlcyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoIW1hcC5jdXJyZW50KSByZXR1cm47XG5cbiAgICAvLyBTb3VyY2UgZm9yIGluaXRpYXRpdmVzIChwb2ludHMpXG4gICAgaWYgKCFtYXAuY3VycmVudC5nZXRTb3VyY2UoJ2luaXRpYXRpdmVzJykpIHtcbiAgICAgIG1hcC5jdXJyZW50LmFkZFNvdXJjZSgnaW5pdGlhdGl2ZXMnLCB7XG4gICAgICAgIHR5cGU6ICdnZW9qc29uJyxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHR5cGU6ICdGZWF0dXJlQ29sbGVjdGlvbicsXG4gICAgICAgICAgZmVhdHVyZXM6IFtdLFxuICAgICAgICB9LFxuICAgICAgICBjbHVzdGVyOiBlbmFibGVDbHVzdGVyaW5nLFxuICAgICAgICBjbHVzdGVyTWF4Wm9vbTogMTQsXG4gICAgICAgIGNsdXN0ZXJSYWRpdXM6IDUwLFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbZW5hYmxlQ2x1c3RlcmluZ10pO1xuXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gIC8vIExBWUVSUyBDT05GSUdVUkFUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgY29uc3Qgc2V0dXBNYXBMYXllcnMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKCFtYXAuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgLy8gQ2x1c3RlcnNcbiAgICBpZiAoZW5hYmxlQ2x1c3RlcmluZykge1xuICAgICAgLy8gQ2lyY2xlcyBmb3IgY2x1c3RlcnNcbiAgICAgIGlmICghbWFwLmN1cnJlbnQuZ2V0TGF5ZXIoJ2NsdXN0ZXJzJykpIHtcbiAgICAgICAgbWFwLmN1cnJlbnQuYWRkTGF5ZXIoe1xuICAgICAgICAgIGlkOiAnY2x1c3RlcnMnLFxuICAgICAgICAgIHR5cGU6ICdjaXJjbGUnLFxuICAgICAgICAgIHNvdXJjZTogJ2luaXRpYXRpdmVzJyxcbiAgICAgICAgICBmaWx0ZXI6IFsnaGFzJywgJ3BvaW50X2NvdW50J10sXG4gICAgICAgICAgcGFpbnQ6IHtcbiAgICAgICAgICAgICdjaXJjbGUtY29sb3InOiBbXG4gICAgICAgICAgICAgICdzdGVwJyxcbiAgICAgICAgICAgICAgWydnZXQnLCAncG9pbnRfY291bnQnXSxcbiAgICAgICAgICAgICAgJyM1MWJiZDYnLCAvLyBDb2xvciBmb3IgMS0xMCBwb2ludHNcbiAgICAgICAgICAgICAgMTAsXG4gICAgICAgICAgICAgICcjZjFjNDBmJywgLy8gMTAtNTAgcG9pbnRzXG4gICAgICAgICAgICAgIDUwLFxuICAgICAgICAgICAgICAnI2U3NGMzYycsIC8vIDUwKyBwb2ludHNcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAnY2lyY2xlLXJhZGl1cyc6IFtcbiAgICAgICAgICAgICAgJ3N0ZXAnLFxuICAgICAgICAgICAgICBbJ2dldCcsICdwb2ludF9jb3VudCddLFxuICAgICAgICAgICAgICAyMCwgLy8gUmFkaXVzIGZvciAxLTEwIHBvaW50c1xuICAgICAgICAgICAgICAxMCxcbiAgICAgICAgICAgICAgMzAsIC8vIDEwLTUwIHBvaW50c1xuICAgICAgICAgICAgICA1MCxcbiAgICAgICAgICAgICAgNDAsIC8vIDUwKyBwb2ludHNcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAnY2lyY2xlLXN0cm9rZS13aWR0aCc6IDIsXG4gICAgICAgICAgICAnY2lyY2xlLXN0cm9rZS1jb2xvcic6ICcjZmZmJyxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gTnVtYmVycyBvbiBjbHVzdGVyc1xuICAgICAgaWYgKCFtYXAuY3VycmVudC5nZXRMYXllcignY2x1c3Rlci1jb3VudCcpKSB7XG4gICAgICAgIG1hcC5jdXJyZW50LmFkZExheWVyKHtcbiAgICAgICAgICBpZDogJ2NsdXN0ZXItY291bnQnLFxuICAgICAgICAgIHR5cGU6ICdzeW1ib2wnLFxuICAgICAgICAgIHNvdXJjZTogJ2luaXRpYXRpdmVzJyxcbiAgICAgICAgICBmaWx0ZXI6IFsnaGFzJywgJ3BvaW50X2NvdW50J10sXG4gICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAndGV4dC1maWVsZCc6ICd7cG9pbnRfY291bnRfYWJicmV2aWF0ZWR9JyxcbiAgICAgICAgICAgICd0ZXh0LWZvbnQnOiBbJ0RJTiBPZmZjIFBybyBNZWRpdW0nLCAnQXJpYWwgVW5pY29kZSBNUyBCb2xkJ10sXG4gICAgICAgICAgICAndGV4dC1zaXplJzogMTIsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBwYWludDoge1xuICAgICAgICAgICAgJ3RleHQtY29sb3InOiAnI2ZmZmZmZicsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSW5kaXZpZHVhbCBwb2ludHMgKG5vdCBjbHVzdGVyZWQpXG4gICAgaWYgKCFtYXAuY3VycmVudC5nZXRMYXllcigndW5jbHVzdGVyZWQtcG9pbnQnKSkge1xuICAgICAgbWFwLmN1cnJlbnQuYWRkTGF5ZXIoe1xuICAgICAgICBpZDogJ3VuY2x1c3RlcmVkLXBvaW50JyxcbiAgICAgICAgdHlwZTogJ2NpcmNsZScsXG4gICAgICAgIHNvdXJjZTogJ2luaXRpYXRpdmVzJyxcbiAgICAgICAgZmlsdGVyOiBlbmFibGVDbHVzdGVyaW5nXG4gICAgICAgICAgPyAoWychJywgWydoYXMnLCAncG9pbnRfY291bnQnXV0gYXMgbWFwYm94Z2wuRmlsdGVyU3BlY2lmaWNhdGlvbilcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgcGFpbnQ6IHtcbiAgICAgICAgICAnY2lyY2xlLXJhZGl1cyc6IFtcbiAgICAgICAgICAgICdpbnRlcnBvbGF0ZScsXG4gICAgICAgICAgICBbJ2xpbmVhciddLFxuICAgICAgICAgICAgWyd6b29tJ10sXG4gICAgICAgICAgICA4LFxuICAgICAgICAgICAgNCxcbiAgICAgICAgICAgIDEyLFxuICAgICAgICAgICAgOCxcbiAgICAgICAgICAgIDE2LFxuICAgICAgICAgICAgMTIsXG4gICAgICAgICAgXSxcbiAgICAgICAgICAnY2lyY2xlLWNvbG9yJzogW1xuICAgICAgICAgICAgJ21hdGNoJyxcbiAgICAgICAgICAgIFsnZ2V0JywgJ3R5cGUnXSxcbiAgICAgICAgICAgICdSZXNzb3VyY2VyaWUnLFxuICAgICAgICAgICAgSU5JVElBVElWRV9DT0xPUlNbJ1Jlc3NvdXJjZXJpZSddLFxuICAgICAgICAgICAgJ1JlcGFpciBDYWbDqScsXG4gICAgICAgICAgICBJTklUSUFUSVZFX0NPTE9SU1snUmVwYWlyIENhZsOpJ10sXG4gICAgICAgICAgICAnQU1BUCcsXG4gICAgICAgICAgICBJTklUSUFUSVZFX0NPTE9SU1snQU1BUCddLFxuICAgICAgICAgICAgXCJFbnRyZXByaXNlIGQnaW5zZXJ0aW9uXCIsXG4gICAgICAgICAgICBJTklUSUFUSVZFX0NPTE9SU1tcIkVudHJlcHJpc2UgZCdpbnNlcnRpb25cIl0sXG4gICAgICAgICAgICAnUG9pbnQgZGUgY29sbGVjdGUnLFxuICAgICAgICAgICAgSU5JVElBVElWRV9DT0xPUlNbJ1BvaW50IGRlIGNvbGxlY3RlJ10sXG4gICAgICAgICAgICAnUmVjeWNsZXJpZScsXG4gICAgICAgICAgICBJTklUSUFUSVZFX0NPTE9SU1snUmVjeWNsZXJpZSddLFxuICAgICAgICAgICAgJ8OJcGljZXJpZSBzb2NpYWxlJyxcbiAgICAgICAgICAgIElOSVRJQVRJVkVfQ09MT1JTWyfDiXBpY2VyaWUgc29jaWFsZSddLFxuICAgICAgICAgICAgJ0phcmRpbiBwYXJ0YWfDqScsXG4gICAgICAgICAgICBJTklUSUFUSVZFX0NPTE9SU1snSmFyZGluIHBhcnRhZ8OpJ10sXG4gICAgICAgICAgICAnRmFiIExhYicsXG4gICAgICAgICAgICBJTklUSUFUSVZFX0NPTE9SU1snRmFiIExhYiddLFxuICAgICAgICAgICAgJ0Nvb3DDqXJhdGl2ZScsXG4gICAgICAgICAgICBJTklUSUFUSVZFX0NPTE9SU1snQ29vcMOpcmF0aXZlJ10sXG4gICAgICAgICAgICAnTW9ubmFpZSBsb2NhbGUnLFxuICAgICAgICAgICAgSU5JVElBVElWRV9DT0xPUlNbJ01vbm5haWUgbG9jYWxlJ10sXG4gICAgICAgICAgICAnVGllcnMtbGlldScsXG4gICAgICAgICAgICBJTklUSUFUSVZFX0NPTE9SU1snVGllcnMtbGlldSddLFxuICAgICAgICAgICAgSU5JVElBVElWRV9DT0xPUlNbJ0F1dHJlJ10sIC8vIERlZmF1bHRcbiAgICAgICAgICBdLFxuICAgICAgICAgICdjaXJjbGUtc3Ryb2tlLXdpZHRoJzogMixcbiAgICAgICAgICAnY2lyY2xlLXN0cm9rZS1jb2xvcic6ICcjZmZmZmZmJyxcbiAgICAgICAgICAnY2lyY2xlLW9wYWNpdHknOiAwLjgsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtlbmFibGVDbHVzdGVyaW5nXSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gTUFQIElOVEVSQUNUSU9OU1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGNvbnN0IHNldHVwTWFwSW50ZXJhY3Rpb25zID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghbWFwLmN1cnJlbnQpIHJldHVybjtcblxuICAgIC8vIFBvaW50ZXIgY3Vyc29yIG9uIGludGVyYWN0aXZlIGVsZW1lbnRzXG4gICAgbWFwLmN1cnJlbnQub24oJ21vdXNlZW50ZXInLCAnY2x1c3RlcnMnLCAoKSA9PiB7XG4gICAgICBpZiAobWFwLmN1cnJlbnQpIG1hcC5jdXJyZW50LmdldENhbnZhcygpLnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICB9KTtcbiAgICBtYXAuY3VycmVudC5vbignbW91c2VsZWF2ZScsICdjbHVzdGVycycsICgpID0+IHtcbiAgICAgIGlmIChtYXAuY3VycmVudCkgbWFwLmN1cnJlbnQuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gJyc7XG4gICAgfSk7XG5cbiAgICBtYXAuY3VycmVudC5vbignbW91c2VlbnRlcicsICd1bmNsdXN0ZXJlZC1wb2ludCcsICgpID0+IHtcbiAgICAgIGlmIChtYXAuY3VycmVudCkgbWFwLmN1cnJlbnQuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xuICAgIH0pO1xuICAgIG1hcC5jdXJyZW50Lm9uKCdtb3VzZWxlYXZlJywgJ3VuY2x1c3RlcmVkLXBvaW50JywgKCkgPT4ge1xuICAgICAgaWYgKG1hcC5jdXJyZW50KSBtYXAuY3VycmVudC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3IgPSAnJztcbiAgICB9KTtcblxuICAgIC8vIENsaWNrIG9uIGNsdXN0ZXI6IHpvb21cbiAgICBtYXAuY3VycmVudC5vbignY2xpY2snLCAnY2x1c3RlcnMnLCAoZSkgPT4ge1xuICAgICAgaWYgKCFtYXAuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgICBjb25zdCBmZWF0dXJlcyA9IG1hcC5jdXJyZW50LnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LCB7XG4gICAgICAgIGxheWVyczogWydjbHVzdGVycyddLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGNsdXN0ZXJJZCA9IGZlYXR1cmVzWzBdPy5wcm9wZXJ0aWVzPy5jbHVzdGVyX2lkO1xuICAgICAgaWYgKGNsdXN0ZXJJZCkge1xuICAgICAgICBjb25zdCBzb3VyY2UgPSBtYXAuY3VycmVudC5nZXRTb3VyY2UoXG4gICAgICAgICAgJ2luaXRpYXRpdmVzJ1xuICAgICAgICApIGFzIG1hcGJveGdsLkdlb0pTT05Tb3VyY2U7XG4gICAgICAgIHNvdXJjZS5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShjbHVzdGVySWQsIChlcnIsIHpvb20pID0+IHtcbiAgICAgICAgICBpZiAoZXJyIHx8ICFtYXAuY3VycmVudCB8fCB6b29tID09PSBudWxsIHx8IHpvb20gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgIG1hcC5jdXJyZW50LmVhc2VUbyh7XG4gICAgICAgICAgICBjZW50ZXI6IChmZWF0dXJlc1swXS5nZW9tZXRyeSBhcyBHZW9KU09OLlBvaW50KS5jb29yZGluYXRlcyBhcyBbXG4gICAgICAgICAgICAgIG51bWJlcixcbiAgICAgICAgICAgICAgbnVtYmVyXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgem9vbSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDbGljayBvbiBwb2ludDogc2hvdyBkZXRhaWxzXG4gICAgbWFwLmN1cnJlbnQub24oJ2NsaWNrJywgJ3VuY2x1c3RlcmVkLXBvaW50JywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGZlYXR1cmVzID0gZS5mZWF0dXJlcz8uWzBdO1xuICAgICAgaWYgKGZlYXR1cmVzPy5wcm9wZXJ0aWVzICYmIG9uSW5pdGlhdGl2ZUNsaWNrKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYXRpdmUgPSBKU09OLnBhcnNlKFxuICAgICAgICAgIGZlYXR1cmVzLnByb3BlcnRpZXMuaW5pdGlhdGl2ZVxuICAgICAgICApIGFzIEluaXRpYXRpdmU7XG4gICAgICAgIG9uSW5pdGlhdGl2ZUNsaWNrKGluaXRpYXRpdmUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ2xpY2sgb24gbWFwXG4gICAgbWFwLmN1cnJlbnQub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGZlYXR1cmVzID0gbWFwLmN1cnJlbnQ/LnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LCB7XG4gICAgICAgIGxheWVyczogWydjbHVzdGVycycsICd1bmNsdXN0ZXJlZC1wb2ludCddLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIElmIHdlIGRpZG4ndCBjbGljayBvbiBhIG1hcmtlci9jbHVzdGVyXG4gICAgICBpZiAoIWZlYXR1cmVzPy5sZW5ndGggJiYgb25NYXBDbGljaykge1xuICAgICAgICBvbk1hcENsaWNrKFtlLmxuZ0xhdC5sbmcsIGUubG5nTGF0LmxhdF0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBbb25Jbml0aWF0aXZlQ2xpY2ssIG9uTWFwQ2xpY2tdKTtcblxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAvLyBEQVRBIFVQREFURVxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtYXAuY3VycmVudCB8fCAhaXNMb2FkZWQpIHJldHVybjtcblxuICAgIGNvbnN0IHNvdXJjZSA9IG1hcC5jdXJyZW50LmdldFNvdXJjZShcbiAgICAgICdpbml0aWF0aXZlcydcbiAgICApIGFzIG1hcGJveGdsLkdlb0pTT05Tb3VyY2U7XG4gICAgaWYgKCFzb3VyY2UpIHJldHVybjtcblxuICAgIC8vIENvbnZlcnQgdG8gR2VvSlNPTlxuICAgIGNvbnN0IGdlb2pzb25EYXRhID0ge1xuICAgICAgdHlwZTogJ0ZlYXR1cmVDb2xsZWN0aW9uJyBhcyBjb25zdCxcbiAgICAgIGZlYXR1cmVzOiBpbml0aWF0aXZlcy5tYXAoKGluaXRpYXRpdmUpID0+ICh7XG4gICAgICAgIHR5cGU6ICdGZWF0dXJlJyBhcyBjb25zdCxcbiAgICAgICAgZ2VvbWV0cnk6IGluaXRpYXRpdmUubG9jYXRpb24sXG4gICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICBpZDogaW5pdGlhdGl2ZS5pZCxcbiAgICAgICAgICBuYW1lOiBpbml0aWF0aXZlLm5hbWUsXG4gICAgICAgICAgdHlwZTogaW5pdGlhdGl2ZS50eXBlLFxuICAgICAgICAgIHZlcmlmaWVkOiBpbml0aWF0aXZlLnZlcmlmaWVkLFxuICAgICAgICAgIGluaXRpYXRpdmU6IEpTT04uc3RyaW5naWZ5KGluaXRpYXRpdmUpLCAvLyBEb25uw6llcyBjb21wbMOodGVzIHBvdXIgbGVzIHBvcHVwc1xuICAgICAgICB9LFxuICAgICAgfSkpLFxuICAgIH07XG5cbiAgICBzb3VyY2Uuc2V0RGF0YShnZW9qc29uRGF0YSk7XG5cbiAgICAvLyBBdXRvLWZpdCBzaSBkZW1hbmTDqVxuICAgIGlmIChhdXRvRml0ICYmIGluaXRpYXRpdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gaW5pdGlhdGl2ZXMubWFwKChpKSA9PiBpLmxvY2F0aW9uLmNvb3JkaW5hdGVzKTtcbiAgICAgIGNvbnN0IGJvdW5kcyA9IGNvb3JkaW5hdGVzLnJlZHVjZShcbiAgICAgICAgKGJvdW5kcywgY29vcmQpID0+IGJvdW5kcy5leHRlbmQoY29vcmQpLFxuICAgICAgICBuZXcgbWFwYm94Z2wuTG5nTGF0Qm91bmRzKGNvb3JkaW5hdGVzWzBdLCBjb29yZGluYXRlc1swXSlcbiAgICAgICk7XG5cbiAgICAgIG1hcC5jdXJyZW50LmZpdEJvdW5kcyhib3VuZHMsIHtcbiAgICAgICAgcGFkZGluZzogNTAsXG4gICAgICAgIG1heFpvb206IDEyLFxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbaW5pdGlhdGl2ZXMsIGlzTG9hZGVkLCBhdXRvRml0XSk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUFVCTElDIE1FVEhPRFMgKGV4cG9zZWQgdmlhIHJlZiBpZiBuZWVkZWQpXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgY29uc3QgX2ZseVRvID0gdXNlQ2FsbGJhY2soKGNvb3JkaW5hdGVzOiBbbnVtYmVyLCBudW1iZXJdLCB6b29tID0gMTQpID0+IHtcbiAgICBpZiAobWFwLmN1cnJlbnQpIHtcbiAgICAgIG1hcC5jdXJyZW50LmZseVRvKHsgY2VudGVyOiBjb29yZGluYXRlcywgem9vbSB9KTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICBjb25zdCBfZml0Qm91bmRzID0gdXNlQ2FsbGJhY2soXG4gICAgKGJvdW5kczogW1tudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl1dKSA9PiB7XG4gICAgICBpZiAobWFwLmN1cnJlbnQpIHtcbiAgICAgICAgbWFwLmN1cnJlbnQuZml0Qm91bmRzKGJvdW5kcywgeyBwYWRkaW5nOiA1MCB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtdXG4gICk7XG5cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgLy8gUkVORFVcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPXtgcmVsYXRpdmUgJHtjbGFzc05hbWV9YH0+XG4gICAgICB7LyogQ29udGVuZXVyIGRlIGxhIGNhcnRlICovfVxuICAgICAgPGRpdlxuICAgICAgICByZWY9e21hcENvbnRhaW5lcn1cbiAgICAgICAgY2xhc3NOYW1lPVwiaC1mdWxsIHctZnVsbFwiXG4gICAgICAgIGRhdGEtdGVzdGlkPVwibWFwYm94LWNvbnRhaW5lclwiXG4gICAgICAvPlxuXG4gICAgICB7LyogSW5kaWNhdGV1ciBkZSBjaGFyZ2VtZW50ICovfVxuICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctd2hpdGUvODAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei0xMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgcC00IGZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtNiB3LTYgYm9yZGVyLWItMiBib3JkZXItcHJpbWFyeS01MDBcIiAvPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICBDaGFyZ2VtZW50IGRlcyBpbml0aWF0aXZlcy4uLlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBBZmZpY2hhZ2UgZCdlcnJldXIgKi99XG4gICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IGxlZnQtNCByaWdodC00IHotMjBcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgcm91bmRlZC1sZyBwLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICA8c3ZnXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtcmVkLTQwMFwiXG4gICAgICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDIwIDIwXCJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgIGZpbGxSdWxlPVwiZXZlbm9kZFwiXG4gICAgICAgICAgICAgICAgICAgIGQ9XCJNMTAgMThhOCA4IDAgMTAwLTE2IDggOCAwIDAwMCAxNnpNOC43MDcgNy4yOTNhMSAxIDAgMDAtMS40MTQgMS40MTRMOC41ODYgMTBsLTEuMjkzIDEuMjkzYTEgMSAwIDEwMS40MTQgMS40MTRMMTAgMTEuNDE0bDEuMjkzIDEuMjkzYTEgMSAwIDAwMS40MTQtMS40MTRMMTEuNDE0IDEwbDEuMjkzLTEuMjkzYTEgMSAwIDAwLTEuNDE0LTEuNDE0TDEwIDguNTg2IDguNzA3IDcuMjkzelwiXG4gICAgICAgICAgICAgICAgICAgIGNsaXBSdWxlPVwiZXZlbm9kZFwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC0zXCI+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1yZWQtODAwXCI+XG4gICAgICAgICAgICAgICAgICBFcnJldXIgZGUgY2hhcmdlbWVudFxuICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0yIHRleHQtc20gdGV4dC1yZWQtNzAwXCI+e2Vycm9yfTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtM1wiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgbG9hZEluaXRpYXRpdmVzKCk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtc20gYmctcmVkLTEwMCBob3ZlcjpiZy1yZWQtMjAwIHRleHQtcmVkLTgwMCBweC0zIHB5LTIgcm91bmRlZC1tZCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIFLDqWVzc2F5ZXJcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBJbmZvcm1hdGlvbnMgc3VyIGxlcyBkb25uw6llcyAqL31cbiAgICAgIHshbG9hZGluZyAmJiAhZXJyb3IgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS00IGxlZnQtNCB6LTEwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZS85MCBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQtbGcgcHgtMyBweS0yIHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgIHtpbml0aWF0aXZlcy5sZW5ndGh9IGluaXRpYXRpdmV7aW5pdGlhdGl2ZXMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfXsnICd9XG4gICAgICAgICAgICAgIGFmZmljaMOpZXtpbml0aWF0aXZlcy5sZW5ndGggPiAxID8gJ3MnIDogJyd9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJNYXAiLCJERUZBVUxUX0NPTkZJRyIsInN0eWxlIiwiY2VudGVyIiwiem9vbSIsIm1pblpvb20iLCJtYXhab29tIiwiY2xhc3NOYW1lIiwiZmlsdGVycyIsIm9uSW5pdGlhdGl2ZUNsaWNrIiwib25NYXBDbGljayIsImVuYWJsZUNsdXN0ZXJpbmciLCJhdXRvRml0IiwiaW5pdGlhdGl2ZXMiLCJleHRlcm5hbEluaXRpYXRpdmVzIiwibWFwQ29udGFpbmVyIiwidXNlUmVmIiwibWFwIiwiaXNMb2FkZWQiLCJzZXRJc0xvYWRlZCIsInVzZVN0YXRlIiwic2V0SW5pdGlhdGl2ZXMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJ1c2VFZmZlY3QiLCJjdXJyZW50IiwidG9rZW4iLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfTUFQQk9YX1RPS0VOIiwibWFwYm94Z2wiLCJhY2Nlc3NUb2tlbiIsImNvbnRhaW5lciIsImFudGlhbGlhcyIsIm9uIiwic2V0dXBNYXBTb3VyY2VzIiwic2V0dXBNYXBMYXllcnMiLCJzZXR1cE1hcEludGVyYWN0aW9ucyIsImFkZENvbnRyb2wiLCJOYXZpZ2F0aW9uQ29udHJvbCIsIkdlb2xvY2F0ZUNvbnRyb2wiLCJwb3NpdGlvbk9wdGlvbnMiLCJlbmFibGVIaWdoQWNjdXJhY3kiLCJ0cmFja1VzZXJMb2NhdGlvbiIsInNob3dVc2VySGVhZGluZyIsIkZ1bGxzY3JlZW5Db250cm9sIiwiZXJyIiwiY29uc29sZSIsInJlbW92ZSIsImxvYWRJbml0aWF0aXZlcyIsInVzZUNhbGxiYWNrIiwic3VwYWJhc2UiLCJjcmVhdGVDbGllbnQiLCJxdWVyeSIsImZyb20iLCJzZWxlY3QiLCJ0eXBlcyIsImxlbmd0aCIsImluIiwidmVyaWZpZWRfb25seSIsImVxIiwic2VhcmNoX3F1ZXJ5Iiwib3IiLCJkYXRhIiwiZGJFcnJvciIsIkVycm9yIiwibWVzc2FnZSIsImZvcm1hdHRlZEluaXRpYXRpdmVzIiwiZGF0YWJhc2VJbml0aWF0aXZlVG9Jbml0aWF0aXZlIiwiZ2V0U291cmNlIiwiYWRkU291cmNlIiwidHlwZSIsImZlYXR1cmVzIiwiY2x1c3RlciIsImNsdXN0ZXJNYXhab29tIiwiY2x1c3RlclJhZGl1cyIsImdldExheWVyIiwiYWRkTGF5ZXIiLCJpZCIsInNvdXJjZSIsImZpbHRlciIsInBhaW50IiwibGF5b3V0IiwidW5kZWZpbmVkIiwiSU5JVElBVElWRV9DT0xPUlMiLCJnZXRDYW52YXMiLCJjdXJzb3IiLCJlIiwicXVlcnlSZW5kZXJlZEZlYXR1cmVzIiwicG9pbnQiLCJsYXllcnMiLCJjbHVzdGVySWQiLCJwcm9wZXJ0aWVzIiwiY2x1c3Rlcl9pZCIsImdldENsdXN0ZXJFeHBhbnNpb25ab29tIiwiZWFzZVRvIiwiZ2VvbWV0cnkiLCJjb29yZGluYXRlcyIsImluaXRpYXRpdmUiLCJKU09OIiwicGFyc2UiLCJsbmdMYXQiLCJsbmciLCJsYXQiLCJnZW9qc29uRGF0YSIsImxvY2F0aW9uIiwibmFtZSIsInZlcmlmaWVkIiwic3RyaW5naWZ5Iiwic2V0RGF0YSIsImkiLCJib3VuZHMiLCJyZWR1Y2UiLCJjb29yZCIsImV4dGVuZCIsIkxuZ0xhdEJvdW5kcyIsImZpdEJvdW5kcyIsInBhZGRpbmciLCJfZmx5VG8iLCJmbHlUbyIsIl9maXRCb3VuZHMiLCJkaXYiLCJyZWYiLCJkYXRhLXRlc3RpZCIsInNwYW4iLCJzdmciLCJ2aWV3Qm94IiwiZmlsbCIsInBhdGgiLCJmaWxsUnVsZSIsImQiLCJjbGlwUnVsZSIsImgzIiwiYnV0dG9uIiwib25DbGljayJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OytCQTBEQSxtQ0FBbUM7QUFDbkMsaUJBQWlCO0FBQ2pCLG1DQUFtQztBQUVuQzs7O2VBQXdCQTs7OztpRUFyREg7UUFDZDt1QkFDa0Q7d0JBRTVCO3VCQUNrQjs0QkFDYjs7Ozs7O0FBSWxDLG1DQUFtQztBQUNuQyxnQkFBZ0I7QUFDaEIsbUNBQW1DO0FBRW5DLE1BQU1DLGlCQUFpQjtJQUNy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