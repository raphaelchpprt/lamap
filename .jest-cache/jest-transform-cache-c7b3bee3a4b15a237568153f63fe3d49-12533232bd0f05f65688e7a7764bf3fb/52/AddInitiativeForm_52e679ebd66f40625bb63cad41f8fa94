86932696b6f06e85a7287f35fefb0456
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return AddInitiativeForm;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = require("react");
const _actions = require("../app/actions");
const _button = require("./ui/button");
const _card = require("./ui/card");
const _input = require("./ui/input");
const _label = require("./ui/label");
function AddInitiativeForm({ onSuccess, onCancel }) {
    const formRef = (0, _react.useRef)(null);
    const [isSubmitting, setIsSubmitting] = (0, _react.useState)(false);
    const [error, setError] = (0, _react.useState)(null);
    const initiativeTypes = [
        'Ressourcerie',
        'Repair Café',
        'AMAP',
        "Entreprise d'insertion",
        'Point de collecte',
        'Recyclerie',
        'Épicerie sociale',
        'Jardin partagé',
        'Fab Lab',
        'Coopérative',
        'Monnaie locale',
        'Tiers-lieu',
        'Autre'
    ];
    const handleSubmit = async (e)=>{
        e.preventDefault();
        setIsSubmitting(true);
        setError(null);
        const formData = new FormData(e.currentTarget);
        const name = formData.get('name');
        const type = formData.get('type');
        const description = formData.get('description');
        const address = formData.get('address');
        const latitude = parseFloat(formData.get('latitude'));
        const longitude = parseFloat(formData.get('longitude'));
        const website = formData.get('website');
        const phone = formData.get('phone');
        const email = formData.get('email');
        if (!name || !type || isNaN(latitude) || isNaN(longitude)) {
            setError('Veuillez remplir tous les champs obligatoires');
            setIsSubmitting(false);
            return;
        }
        try {
            // Call server action
            const result = await (0, _actions.createInitiative)({
                name,
                type,
                description: description || undefined,
                address: address || undefined,
                latitude,
                longitude,
                website: website || undefined,
                phone: phone || undefined,
                email: email || undefined
            });
            if (!result.success) {
                throw new Error(result.error || 'Une erreur est survenue');
            }
            // Reset form and notify success
            formRef.current?.reset();
            onSuccess?.();
        } catch (err) {
            console.error("Erreur lors de l'ajout:", err);
            setError(err instanceof Error ? err.message : 'Une erreur est survenue');
        } finally{
            setIsSubmitting(false);
        }
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
        className: "w-full",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardHeader, {
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardTitle, {
                        children: "Ajouter une initiative"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardDescription, {
                        children: "Remplissez ce formulaire pour ajouter une nouvelle initiative ESS"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("form", {
                    ref: formRef,
                    onSubmit: handleSubmit,
                    className: "space-y-6",
                    noValidate: true,
                    children: [
                        error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "bg-destructive/10 border border-destructive/30 text-destructive px-4 py-3 rounded-lg",
                            role: "alert",
                            children: error
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                    htmlFor: "name",
                                    children: "Initiative Name *"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                    type: "text",
                                    id: "name",
                                    name: "name",
                                    required: true,
                                    placeholder: "Ex: Ressourcerie de Belleville"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                    htmlFor: "type",
                                    children: "Initiative Type *"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                    id: "type",
                                    name: "type",
                                    required: true,
                                    className: "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                            value: "",
                                            children: "S\xe9lectionnez un type"
                                        }),
                                        initiativeTypes.map((type)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                value: type,
                                                children: type
                                            }, type))
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                    htmlFor: "description",
                                    children: "Description"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                                    id: "description",
                                    name: "description",
                                    rows: 4,
                                    className: "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
                                    placeholder: "D\xe9crivez l'initiative..."
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                    htmlFor: "address",
                                    children: "Adresse"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                    type: "text",
                                    id: "address",
                                    name: "address",
                                    placeholder: "Ex: 12 rue de la Paix, 75002 Paris"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "grid grid-cols-2 gap-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                            htmlFor: "latitude",
                                            children: "Latitude *"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                            type: "number",
                                            id: "latitude",
                                            name: "latitude",
                                            step: "0.000001",
                                            required: true,
                                            placeholder: "Ex: 48.8566"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                            htmlFor: "longitude",
                                            children: "Longitude *"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                            type: "number",
                                            id: "longitude",
                                            name: "longitude",
                                            step: "0.000001",
                                            required: true,
                                            placeholder: "Ex: 2.3522"
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-4 pt-4 border-t",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                    className: "text-lg font-semibold",
                                    children: "Informations de contact"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                            htmlFor: "website",
                                            children: "Site web"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                            type: "url",
                                            id: "website",
                                            name: "website",
                                            placeholder: "https://exemple.com"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                            htmlFor: "phone",
                                            children: "T\xe9l\xe9phone"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                            type: "tel",
                                            id: "phone",
                                            name: "phone",
                                            placeholder: "01 23 45 67 89"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_label.Label, {
                                            htmlFor: "email",
                                            children: "Email"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                            type: "email",
                                            id: "email",
                                            name: "email",
                                            placeholder: "contact@exemple.com"
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex gap-4 pt-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                    type: "submit",
                                    disabled: isSubmitting,
                                    className: "flex-1",
                                    children: isSubmitting ? 'Ajout en cours...' : "Ajouter l'initiative"
                                }),
                                onCancel && /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                    type: "button",
                                    variant: "outline",
                                    onClick: onCancel,
                                    className: "px-6",
                                    children: "Annuler"
                                })
                            ]
                        })
                    ]
                })
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9SYXBoYWVsL0RvY3VtZW50cy9ERVYubm9zeW5jL2xhbWFwL3NyYy9jb21wb25lbnRzL0FkZEluaXRpYXRpdmVGb3JtLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCB7IGNyZWF0ZUluaXRpYXRpdmUgfSBmcm9tICdAL2FwcC9hY3Rpb25zJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xuaW1wb3J0IHtcbiAgQ2FyZCxcbiAgQ2FyZENvbnRlbnQsXG4gIENhcmREZXNjcmlwdGlvbixcbiAgQ2FyZEhlYWRlcixcbiAgQ2FyZFRpdGxlLFxufSBmcm9tICdAL2NvbXBvbmVudHMvdWkvY2FyZCc7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9pbnB1dCc7XG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9sYWJlbCc7XG5cbmltcG9ydCB0eXBlIHsgSW5pdGlhdGl2ZVR5cGUgfSBmcm9tICdAL3R5cGVzL2luaXRpYXRpdmUnO1xuXG5pbnRlcmZhY2UgQWRkSW5pdGlhdGl2ZUZvcm1Qcm9wcyB7XG4gIG9uU3VjY2Vzcz86ICgpID0+IHZvaWQ7XG4gIG9uQ2FuY2VsPzogKCkgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQWRkSW5pdGlhdGl2ZUZvcm0oe1xuICBvblN1Y2Nlc3MsXG4gIG9uQ2FuY2VsLFxufTogQWRkSW5pdGlhdGl2ZUZvcm1Qcm9wcykge1xuICBjb25zdCBmb3JtUmVmID0gdXNlUmVmPEhUTUxGb3JtRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgY29uc3QgaW5pdGlhdGl2ZVR5cGVzOiBJbml0aWF0aXZlVHlwZVtdID0gW1xuICAgICdSZXNzb3VyY2VyaWUnLFxuICAgICdSZXBhaXIgQ2Fmw6knLFxuICAgICdBTUFQJyxcbiAgICBcIkVudHJlcHJpc2UgZCdpbnNlcnRpb25cIixcbiAgICAnUG9pbnQgZGUgY29sbGVjdGUnLFxuICAgICdSZWN5Y2xlcmllJyxcbiAgICAnw4lwaWNlcmllIHNvY2lhbGUnLFxuICAgICdKYXJkaW4gcGFydGFnw6knLFxuICAgICdGYWIgTGFiJyxcbiAgICAnQ29vcMOpcmF0aXZlJyxcbiAgICAnTW9ubmFpZSBsb2NhbGUnLFxuICAgICdUaWVycy1saWV1JyxcbiAgICAnQXV0cmUnLFxuICBdO1xuXG4gIGNvbnN0IGhhbmRsZVN1Ym1pdCA9IGFzeW5jIChlOiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEZvcm1FbGVtZW50PikgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBzZXRJc1N1Ym1pdHRpbmcodHJ1ZSk7XG4gICAgc2V0RXJyb3IobnVsbCk7XG5cbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShlLmN1cnJlbnRUYXJnZXQpO1xuICAgIGNvbnN0IG5hbWUgPSBmb3JtRGF0YS5nZXQoJ25hbWUnKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgdHlwZSA9IGZvcm1EYXRhLmdldCgndHlwZScpIGFzIEluaXRpYXRpdmVUeXBlO1xuICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gZm9ybURhdGEuZ2V0KCdkZXNjcmlwdGlvbicpIGFzIHN0cmluZztcbiAgICBjb25zdCBhZGRyZXNzID0gZm9ybURhdGEuZ2V0KCdhZGRyZXNzJykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGxhdGl0dWRlID0gcGFyc2VGbG9hdChmb3JtRGF0YS5nZXQoJ2xhdGl0dWRlJykgYXMgc3RyaW5nKTtcbiAgICBjb25zdCBsb25naXR1ZGUgPSBwYXJzZUZsb2F0KGZvcm1EYXRhLmdldCgnbG9uZ2l0dWRlJykgYXMgc3RyaW5nKTtcbiAgICBjb25zdCB3ZWJzaXRlID0gZm9ybURhdGEuZ2V0KCd3ZWJzaXRlJykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHBob25lID0gZm9ybURhdGEuZ2V0KCdwaG9uZScpIGFzIHN0cmluZztcbiAgICBjb25zdCBlbWFpbCA9IGZvcm1EYXRhLmdldCgnZW1haWwnKSBhcyBzdHJpbmc7XG5cbiAgICBpZiAoIW5hbWUgfHwgIXR5cGUgfHwgaXNOYU4obGF0aXR1ZGUpIHx8IGlzTmFOKGxvbmdpdHVkZSkpIHtcbiAgICAgIHNldEVycm9yKCdWZXVpbGxleiByZW1wbGlyIHRvdXMgbGVzIGNoYW1wcyBvYmxpZ2F0b2lyZXMnKTtcbiAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIC8vIENhbGwgc2VydmVyIGFjdGlvblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlSW5pdGlhdGl2ZSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjcmlwdGlvbiB8fCB1bmRlZmluZWQsXG4gICAgICAgIGFkZHJlc3M6IGFkZHJlc3MgfHwgdW5kZWZpbmVkLFxuICAgICAgICBsYXRpdHVkZSxcbiAgICAgICAgbG9uZ2l0dWRlLFxuICAgICAgICB3ZWJzaXRlOiB3ZWJzaXRlIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgcGhvbmU6IHBob25lIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgZW1haWw6IGVtYWlsIHx8IHVuZGVmaW5lZCxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IgfHwgJ1VuZSBlcnJldXIgZXN0IHN1cnZlbnVlJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIFJlc2V0IGZvcm0gYW5kIG5vdGlmeSBzdWNjZXNzXG4gICAgICBmb3JtUmVmLmN1cnJlbnQ/LnJlc2V0KCk7XG4gICAgICBvblN1Y2Nlc3M/LigpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycmV1ciBsb3JzIGRlIGwnYWpvdXQ6XCIsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ1VuZSBlcnJldXIgZXN0IHN1cnZlbnVlJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzU3VibWl0dGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPENhcmQgY2xhc3NOYW1lPVwidy1mdWxsXCI+XG4gICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgPENhcmRUaXRsZT5Bam91dGVyIHVuZSBpbml0aWF0aXZlPC9DYXJkVGl0bGU+XG4gICAgICAgIDxDYXJkRGVzY3JpcHRpb24+XG4gICAgICAgICAgUmVtcGxpc3NleiBjZSBmb3JtdWxhaXJlIHBvdXIgYWpvdXRlciB1bmUgbm91dmVsbGUgaW5pdGlhdGl2ZSBFU1NcbiAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+XG4gICAgICA8L0NhcmRIZWFkZXI+XG4gICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgIDxmb3JtXG4gICAgICAgICAgcmVmPXtmb3JtUmVmfVxuICAgICAgICAgIG9uU3VibWl0PXtoYW5kbGVTdWJtaXR9XG4gICAgICAgICAgY2xhc3NOYW1lPVwic3BhY2UteS02XCJcbiAgICAgICAgICBub1ZhbGlkYXRlXG4gICAgICAgID5cbiAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1kZXN0cnVjdGl2ZS8xMCBib3JkZXIgYm9yZGVyLWRlc3RydWN0aXZlLzMwIHRleHQtZGVzdHJ1Y3RpdmUgcHgtNCBweS0zIHJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICByb2xlPVwiYWxlcnRcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7ZXJyb3J9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIE5vbSAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJuYW1lXCI+SW5pdGlhdGl2ZSBOYW1lICo8L0xhYmVsPlxuICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgaWQ9XCJuYW1lXCJcbiAgICAgICAgICAgICAgbmFtZT1cIm5hbWVcIlxuICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkV4OiBSZXNzb3VyY2VyaWUgZGUgQmVsbGV2aWxsZVwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIFR5cGUgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwidHlwZVwiPkluaXRpYXRpdmUgVHlwZSAqPC9MYWJlbD5cbiAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgaWQ9XCJ0eXBlXCJcbiAgICAgICAgICAgICAgbmFtZT1cInR5cGVcIlxuICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGgtMTAgdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIHB4LTMgcHktMiB0ZXh0LXNtIHJpbmctb2Zmc2V0LWJhY2tncm91bmQgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlPDqWxlY3Rpb25uZXogdW4gdHlwZTwvb3B0aW9uPlxuICAgICAgICAgICAgICB7aW5pdGlhdGl2ZVR5cGVzLm1hcCgodHlwZSkgPT4gKFxuICAgICAgICAgICAgICAgIDxvcHRpb24ga2V5PXt0eXBlfSB2YWx1ZT17dHlwZX0+XG4gICAgICAgICAgICAgICAgICB7dHlwZX1cbiAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBEZXNjcmlwdGlvbiAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJkZXNjcmlwdGlvblwiPkRlc2NyaXB0aW9uPC9MYWJlbD5cbiAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICBpZD1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgbmFtZT1cImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgcm93cz17NH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleCBtaW4taC1bODBweF0gdy1mdWxsIHJvdW5kZWQtbWQgYm9yZGVyIGJvcmRlci1pbnB1dCBiZy1iYWNrZ3JvdW5kIHB4LTMgcHktMiB0ZXh0LXNtIHJpbmctb2Zmc2V0LWJhY2tncm91bmQgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTIgZm9jdXMtdmlzaWJsZTpyaW5nLXJpbmcgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0yXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEw6ljcml2ZXogbCdpbml0aWF0aXZlLi4uXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogQWRyZXNzZSAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJhZGRyZXNzXCI+QWRyZXNzZTwvTGFiZWw+XG4gICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICBpZD1cImFkZHJlc3NcIlxuICAgICAgICAgICAgICBuYW1lPVwiYWRkcmVzc1wiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRXg6IDEyIHJ1ZSBkZSBsYSBQYWl4LCA3NTAwMiBQYXJpc1wiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIENvb3Jkb25uw6llcyBHUFMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cImxhdGl0dWRlXCI+TGF0aXR1ZGUgKjwvTGFiZWw+XG4gICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJudW1iZXJcIlxuICAgICAgICAgICAgICAgIGlkPVwibGF0aXR1ZGVcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJsYXRpdHVkZVwiXG4gICAgICAgICAgICAgICAgc3RlcD1cIjAuMDAwMDAxXCJcbiAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRXg6IDQ4Ljg1NjZcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICA8TGFiZWwgaHRtbEZvcj1cImxvbmdpdHVkZVwiPkxvbmdpdHVkZSAqPC9MYWJlbD5cbiAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgaWQ9XCJsb25naXR1ZGVcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJsb25naXR1ZGVcIlxuICAgICAgICAgICAgICAgIHN0ZXA9XCIwLjAwMDAwMVwiXG4gICAgICAgICAgICAgICAgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkV4OiAyLjM1MjJcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogSW5mb3JtYXRpb25zIGRlIGNvbnRhY3QgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgcHQtNCBib3JkZXItdFwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZFwiPkluZm9ybWF0aW9ucyBkZSBjb250YWN0PC9oMz5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJ3ZWJzaXRlXCI+U2l0ZSB3ZWI8L0xhYmVsPlxuICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidXJsXCJcbiAgICAgICAgICAgICAgICBpZD1cIndlYnNpdGVcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJ3ZWJzaXRlXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImh0dHBzOi8vZXhlbXBsZS5jb21cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgIDxMYWJlbCBodG1sRm9yPVwicGhvbmVcIj5Uw6lsw6lwaG9uZTwvTGFiZWw+XG4gICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZWxcIlxuICAgICAgICAgICAgICAgIGlkPVwicGhvbmVcIlxuICAgICAgICAgICAgICAgIG5hbWU9XCJwaG9uZVwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCIwMSAyMyA0NSA2NyA4OVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgPExhYmVsIGh0bWxGb3I9XCJlbWFpbFwiPkVtYWlsPC9MYWJlbD5cbiAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICBpZD1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICBuYW1lPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiY29udGFjdEBleGVtcGxlLmNvbVwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIHsvKiBCb3V0b25zICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtNCBwdC00XCI+XG4gICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfSBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAge2lzU3VibWl0dGluZyA/ICdBam91dCBlbiBjb3Vycy4uLicgOiBcIkFqb3V0ZXIgbCdpbml0aWF0aXZlXCJ9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAge29uQ2FuY2VsICYmIChcbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNhbmNlbH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC02XCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIEFubnVsZXJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L0NhcmRDb250ZW50PlxuICAgIDwvQ2FyZD5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJBZGRJbml0aWF0aXZlRm9ybSIsIm9uU3VjY2VzcyIsIm9uQ2FuY2VsIiwiZm9ybVJlZiIsInVzZVJlZiIsImlzU3VibWl0dGluZyIsInNldElzU3VibWl0dGluZyIsInVzZVN0YXRlIiwiZXJyb3IiLCJzZXRFcnJvciIsImluaXRpYXRpdmVUeXBlcyIsImhhbmRsZVN1Ym1pdCIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJjdXJyZW50VGFyZ2V0IiwibmFtZSIsImdldCIsInR5cGUiLCJkZXNjcmlwdGlvbiIsImFkZHJlc3MiLCJsYXRpdHVkZSIsInBhcnNlRmxvYXQiLCJsb25naXR1ZGUiLCJ3ZWJzaXRlIiwicGhvbmUiLCJlbWFpbCIsImlzTmFOIiwicmVzdWx0IiwiY3JlYXRlSW5pdGlhdGl2ZSIsInVuZGVmaW5lZCIsInN1Y2Nlc3MiLCJFcnJvciIsImN1cnJlbnQiLCJyZXNldCIsImVyciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiQ2FyZCIsImNsYXNzTmFtZSIsIkNhcmRIZWFkZXIiLCJDYXJkVGl0bGUiLCJDYXJkRGVzY3JpcHRpb24iLCJDYXJkQ29udGVudCIsImZvcm0iLCJyZWYiLCJvblN1Ym1pdCIsIm5vVmFsaWRhdGUiLCJkaXYiLCJyb2xlIiwiTGFiZWwiLCJodG1sRm9yIiwiSW5wdXQiLCJpZCIsInJlcXVpcmVkIiwicGxhY2Vob2xkZXIiLCJzZWxlY3QiLCJvcHRpb24iLCJ2YWx1ZSIsIm1hcCIsInRleHRhcmVhIiwicm93cyIsInN0ZXAiLCJoMyIsIkJ1dHRvbiIs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