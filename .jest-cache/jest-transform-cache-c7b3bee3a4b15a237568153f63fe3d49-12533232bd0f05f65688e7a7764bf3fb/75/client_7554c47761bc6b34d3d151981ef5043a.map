{"version":3,"sources":["/Users/Raphael/Documents/DEV.nosync/lamap/src/lib/supabase/client.ts"],"sourcesContent":["/**\n * Supabase client for browser (Client Components)\n *\n * This client is used in React components that run on the client side.\n * It automatically manages authentication and user sessions.\n */\n\nimport { createBrowserClient } from '@supabase/ssr';\n\nimport type { Database } from './types';\n\nlet supabaseClient: ReturnType<typeof createBrowserClient<Database>> | null =\n  null;\n\n/**\n * Create or return the Supabase client for browser\n *\n * Uses a singleton pattern to avoid creating multiple instances\n * and optimize performance.\n *\n * @returns Supabase client configured for browser\n */\nexport function createClient() {\n  // Check environment variables\n  const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;\n  const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;\n\n  if (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error(\n      'Missing Supabase environment variables. ' +\n        'Check NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY in .env.local'\n    );\n  }\n\n  // Use singleton to avoid recreations\n  if (!supabaseClient) {\n    supabaseClient = createBrowserClient<Database>(\n      supabaseUrl,\n      supabaseAnonKey\n    );\n  }\n\n  return supabaseClient;\n}\n\n/**\n * Hook to use Supabase client in React components\n *\n * @returns Supabase client typed with LaMap database\n */\nexport function useSupabase() {\n  return createClient();\n}\n"],"names":["createClient","useSupabase","supabaseClient","supabaseUrl","process","env","NEXT_PUBLIC_SUPABASE_URL","supabaseAnonKey","NEXT_PUBLIC_SUPABASE_ANON_KEY","Error","createBrowserClient"],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;;QAiBeA;eAAAA;;QA4BAC;eAAAA;;;qBA3CoB;AAIpC,IAAIC,iBACF;AAUK,SAASF;IACd,8BAA8B;IAC9B,MAAMG,cAAcC,QAAQC,GAAG,CAACC,wBAAwB;IACxD,MAAMC,kBAAkBH,QAAQC,GAAG,CAACG,6BAA6B;IAEjE,IAAI,CAACL,eAAe,CAACI,iBAAiB;QACpC,MAAM,IAAIE,MACR,6CACE;IAEN;IAEA,qCAAqC;IACrC,IAAI,CAACP,gBAAgB;QACnBA,iBAAiBQ,IAAAA,wBAAmB,EAClCP,aACAI;IAEJ;IAEA,OAAOL;AACT;AAOO,SAASD;IACd,OAAOD;AACT"}