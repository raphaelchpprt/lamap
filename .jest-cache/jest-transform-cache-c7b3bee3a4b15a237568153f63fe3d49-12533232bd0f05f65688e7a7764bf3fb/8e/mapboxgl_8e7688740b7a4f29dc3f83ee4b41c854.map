{"version":3,"sources":["/Users/Raphael/Documents/DEV.nosync/lamap/__mocks__/mapbox-gl.js"],"sourcesContent":["// Mock for Mapbox GL JS\n// Required because Mapbox GL doesn't work in Jest environment (no WebGL)\n\nconst mockMapboxGl = {\n  Map: jest.fn().mockImplementation(() => ({\n    on: jest.fn(),\n    off: jest.fn(),\n    remove: jest.fn(),\n    addSource: jest.fn(),\n    addLayer: jest.fn(),\n    removeLayer: jest.fn(),\n    removeSource: jest.fn(),\n    setStyle: jest.fn(),\n    getStyle: jest.fn(() => ({ layers: [], sources: {} })),\n    isStyleLoaded: jest.fn(() => true),\n    getCenter: jest.fn(() => ({ lng: 2.3522, lat: 48.8566 })),\n    setCenter: jest.fn(),\n    getZoom: jest.fn(() => 10),\n    setZoom: jest.fn(),\n    getBounds: jest.fn(() => ({\n      getNorthEast: () => ({ lng: 3, lat: 49 }),\n      getSouthWest: () => ({ lng: 1, lat: 48 }),\n    })),\n    fitBounds: jest.fn(),\n    project: jest.fn(() => ({ x: 100, y: 100 })),\n    unproject: jest.fn(() => ({ lng: 2.3522, lat: 48.8566 })),\n    queryRenderedFeatures: jest.fn(() => []),\n    getCanvas: jest.fn(() => ({\n      style: { cursor: '' },\n      width: 800,\n      height: 600,\n    })),\n    resize: jest.fn(),\n    loaded: jest.fn(() => true),\n    fire: jest.fn(),\n    // Navigation methods\n    scrollZoom: {\n      enable: jest.fn(),\n      disable: jest.fn(),\n      isEnabled: jest.fn(() => true),\n    },\n    boxZoom: {\n      enable: jest.fn(),\n      disable: jest.fn(),\n      isEnabled: jest.fn(() => true),\n    },\n    dragRotate: {\n      enable: jest.fn(),\n      disable: jest.fn(),\n      isEnabled: jest.fn(() => true),\n    },\n    dragPan: {\n      enable: jest.fn(),\n      disable: jest.fn(),\n      isEnabled: jest.fn(() => true),\n    },\n    keyboard: {\n      enable: jest.fn(),\n      disable: jest.fn(),\n      isEnabled: jest.fn(() => true),\n    },\n    doubleClickZoom: {\n      enable: jest.fn(),\n      disable: jest.fn(),\n      isEnabled: jest.fn(() => true),\n    },\n    touchZoomRotate: {\n      enable: jest.fn(),\n      disable: jest.fn(),\n      isEnabled: jest.fn(() => true),\n    },\n  })),\n\n  Marker: jest.fn().mockImplementation(() => ({\n    setLngLat: jest.fn().mockReturnThis(),\n    addTo: jest.fn().mockReturnThis(),\n    remove: jest.fn(),\n    getElement: jest.fn(() => document.createElement('div')),\n    setPopup: jest.fn().mockReturnThis(),\n    togglePopup: jest.fn(),\n    getPopup: jest.fn(),\n    setOffset: jest.fn().mockReturnThis(),\n    setDraggable: jest.fn().mockReturnThis(),\n    isDraggable: jest.fn(() => false),\n    setRotation: jest.fn().mockReturnThis(),\n    getRotation: jest.fn(() => 0),\n    setRotationAlignment: jest.fn().mockReturnThis(),\n    getRotationAlignment: jest.fn(() => 'auto'),\n    setPitchAlignment: jest.fn().mockReturnThis(),\n    getPitchAlignment: jest.fn(() => 'auto'),\n  })),\n\n  Popup: jest.fn().mockImplementation(() => ({\n    setLngLat: jest.fn().mockReturnThis(),\n    setHTML: jest.fn().mockReturnThis(),\n    setText: jest.fn().mockReturnThis(),\n    setDOMContent: jest.fn().mockReturnThis(),\n    addTo: jest.fn().mockReturnThis(),\n    remove: jest.fn(),\n    isOpen: jest.fn(() => false),\n    getLngLat: jest.fn(() => ({ lng: 2.3522, lat: 48.8566 })),\n    setOffset: jest.fn().mockReturnThis(),\n    addClassName: jest.fn().mockReturnThis(),\n    removeClassName: jest.fn().mockReturnThis(),\n    setMaxWidth: jest.fn().mockReturnThis(),\n    toggleClassName: jest.fn().mockReturnThis(),\n  })),\n\n  NavigationControl: jest.fn().mockImplementation(() => ({\n    onAdd: jest.fn(),\n    onRemove: jest.fn(),\n  })),\n\n  GeolocateControl: jest.fn().mockImplementation(() => ({\n    onAdd: jest.fn(),\n    onRemove: jest.fn(),\n    trigger: jest.fn(),\n  })),\n\n  FullscreenControl: jest.fn().mockImplementation(() => ({\n    onAdd: jest.fn(),\n    onRemove: jest.fn(),\n  })),\n\n  ScaleControl: jest.fn().mockImplementation(() => ({\n    onAdd: jest.fn(),\n    onRemove: jest.fn(),\n  })),\n\n  AttributionControl: jest.fn().mockImplementation(() => ({\n    onAdd: jest.fn(),\n    onRemove: jest.fn(),\n  })),\n\n  // Global properties\n  accessToken: 'pk.test_token',\n  version: '3.0.0',\n  supported: jest.fn(() => true),\n  setRTLTextPlugin: jest.fn(),\n  getRTLTextPluginStatus: jest.fn(() => 'loaded'),\n\n  // Event classes\n  MapboxEvent: class MockMapboxEvent {},\n  MapMouseEvent: class MockMapMouseEvent {},\n  MapTouchEvent: class MockMapTouchEvent {},\n  MapWheelEvent: class MockMapWheelEvent {},\n\n  // Utilities\n  LngLatBounds: jest.fn().mockImplementation(() => ({\n    extend: jest.fn().mockReturnThis(),\n    getCenter: jest.fn(() => ({ lng: 2.3522, lat: 48.8566 })),\n    getSouthWest: jest.fn(() => ({ lng: 1, lat: 48 })),\n    getNorthEast: jest.fn(() => ({ lng: 3, lat: 49 })),\n    getSouth: jest.fn(() => 48),\n    getWest: jest.fn(() => 1),\n    getNorth: jest.fn(() => 49),\n    getEast: jest.fn(() => 3),\n    toArray: jest.fn(() => [\n      [1, 48],\n      [3, 49],\n    ]),\n  })),\n\n  LngLat: jest.fn().mockImplementation((lng, lat) => ({\n    lng: lng || 2.3522,\n    lat: lat || 48.8566,\n    wrap: jest.fn().mockReturnThis(),\n    toArray: jest.fn(() => [lng || 2.3522, lat || 48.8566]),\n    toString: jest.fn(() => `LngLat(${lng || 2.3522}, ${lat || 48.8566})`),\n    toBounds: jest.fn(() => new mockMapboxGl.LngLatBounds()),\n    distanceTo: jest.fn(() => 1000),\n  })),\n\n  Point: jest.fn().mockImplementation((x, y) => ({\n    x: x || 0,\n    y: y || 0,\n    clone: jest.fn().mockReturnThis(),\n    add: jest.fn().mockReturnThis(),\n    sub: jest.fn().mockReturnThis(),\n    mult: jest.fn().mockReturnThis(),\n    div: jest.fn().mockReturnThis(),\n    rotate: jest.fn().mockReturnThis(),\n    matMult: jest.fn().mockReturnThis(),\n    unit: jest.fn().mockReturnThis(),\n    perp: jest.fn().mockReturnThis(),\n    round: jest.fn().mockReturnThis(),\n    mag: jest.fn(() => Math.sqrt(x * x + y * y) || 0),\n    equals: jest.fn(() => true),\n    dist: jest.fn(() => 100),\n    distSqr: jest.fn(() => 10000),\n    angle: jest.fn(() => 0),\n    angleTo: jest.fn(() => 0),\n    angleWith: jest.fn(() => 0),\n    angleWithSep: jest.fn(() => 0),\n  })),\n};\n\nmodule.exports = mockMapboxGl;\nmodule.exports.default = mockMapboxGl;\n"],"names":["mockMapboxGl","Map","jest","fn","mockImplementation","on","off","remove","addSource","addLayer","removeLayer","removeSource","setStyle","getStyle","layers","sources","isStyleLoaded","getCenter","lng","lat","setCenter","getZoom","setZoom","getBounds","getNorthEast","getSouthWest","fitBounds","project","x","y","unproject","queryRenderedFeatures","getCanvas","style","cursor","width","height","resize","loaded","fire","scrollZoom","enable","disable","isEnabled","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","Marker","setLngLat","mockReturnThis","addTo","getElement","document","createElement","setPopup","togglePopup","getPopup","setOffset","setDraggable","isDraggable","setRotation","getRotation","setRotationAlignment","getRotationAlignment","setPitchAlignment","getPitchAlignment","Popup","setHTML","setText","setDOMContent","isOpen","getLngLat","addClassName","removeClassName","setMaxWidth","toggleClassName","NavigationControl","onAdd","onRemove","GeolocateControl","trigger","FullscreenControl","ScaleControl","AttributionControl","accessToken","version","supported","setRTLTextPlugin","getRTLTextPluginStatus","MapboxEvent","MockMapboxEvent","MapMouseEvent","MockMapMouseEvent","MapTouchEvent","MockMapTouchEvent","MapWheelEvent","MockMapWheelEvent","LngLatBounds","extend","getSouth","getWest","getNorth","getEast","toArray","LngLat","wrap","toString","toBounds","distanceTo","Point","clone","add","sub","mult","div","rotate","matMult","unit","perp","round","mag","Math","sqrt","equals","dist","distSqr","angle","angleTo","angleWith","angleWithSep","module","exports","default"],"mappings":"AAAA,wBAAwB;AACxB,yEAAyE;;AAEzE,MAAMA,eAAe;IACnBC,KAAKC,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,IAAO,CAAA;YACvCC,IAAIH,KAAKC,EAAE;YACXG,KAAKJ,KAAKC,EAAE;YACZI,QAAQL,KAAKC,EAAE;YACfK,WAAWN,KAAKC,EAAE;YAClBM,UAAUP,KAAKC,EAAE;YACjBO,aAAaR,KAAKC,EAAE;YACpBQ,cAAcT,KAAKC,EAAE;YACrBS,UAAUV,KAAKC,EAAE;YACjBU,UAAUX,KAAKC,EAAE,CAAC,IAAO,CAAA;oBAAEW,QAAQ,EAAE;oBAAEC,SAAS,CAAC;gBAAE,CAAA;YACnDC,eAAed,KAAKC,EAAE,CAAC,IAAM;YAC7Bc,WAAWf,KAAKC,EAAE,CAAC,IAAO,CAAA;oBAAEe,KAAK;oBAAQC,KAAK;gBAAQ,CAAA;YACtDC,WAAWlB,KAAKC,EAAE;YAClBkB,SAASnB,KAAKC,EAAE,CAAC,IAAM;YACvBmB,SAASpB,KAAKC,EAAE;YAChBoB,WAAWrB,KAAKC,EAAE,CAAC,IAAO,CAAA;oBACxBqB,cAAc,IAAO,CAAA;4BAAEN,KAAK;4BAAGC,KAAK;wBAAG,CAAA;oBACvCM,cAAc,IAAO,CAAA;4BAAEP,KAAK;4BAAGC,KAAK;wBAAG,CAAA;gBACzC,CAAA;YACAO,WAAWxB,KAAKC,EAAE;YAClBwB,SAASzB,KAAKC,EAAE,CAAC,IAAO,CAAA;oBAAEyB,GAAG;oBAAKC,GAAG;gBAAI,CAAA;YACzCC,WAAW5B,KAAKC,EAAE,CAAC,IAAO,CAAA;oBAAEe,KAAK;oBAAQC,KAAK;gBAAQ,CAAA;YACtDY,uBAAuB7B,KAAKC,EAAE,CAAC,IAAM,EAAE;YACvC6B,WAAW9B,KAAKC,EAAE,CAAC,IAAO,CAAA;oBACxB8B,OAAO;wBAAEC,QAAQ;oBAAG;oBACpBC,OAAO;oBACPC,QAAQ;gBACV,CAAA;YACAC,QAAQnC,KAAKC,EAAE;YACfmC,QAAQpC,KAAKC,EAAE,CAAC,IAAM;YACtBoC,MAAMrC,KAAKC,EAAE;YACb,qBAAqB;YACrBqC,YAAY;gBACVC,QAAQvC,KAAKC,EAAE;gBACfuC,SAASxC,KAAKC,EAAE;gBAChBwC,WAAWzC,KAAKC,EAAE,CAAC,IAAM;YAC3B;YACAyC,SAAS;gBACPH,QAAQvC,KAAKC,EAAE;gBACfuC,SAASxC,KAAKC,EAAE;gBAChBwC,WAAWzC,KAAKC,EAAE,CAAC,IAAM;YAC3B;YACA0C,YAAY;gBACVJ,QAAQvC,KAAKC,EAAE;gBACfuC,SAASxC,KAAKC,EAAE;gBAChBwC,WAAWzC,KAAKC,EAAE,CAAC,IAAM;YAC3B;YACA2C,SAAS;gBACPL,QAAQvC,KAAKC,EAAE;gBACfuC,SAASxC,KAAKC,EAAE;gBAChBwC,WAAWzC,KAAKC,EAAE,CAAC,IAAM;YAC3B;YACA4C,UAAU;gBACRN,QAAQvC,KAAKC,EAAE;gBACfuC,SAASxC,KAAKC,EAAE;gBAChBwC,WAAWzC,KAAKC,EAAE,CAAC,IAAM;YAC3B;YACA6C,iBAAiB;gBACfP,QAAQvC,KAAKC,EAAE;gBACfuC,SAASxC,KAAKC,EAAE;gBAChBwC,WAAWzC,KAAKC,EAAE,CAAC,IAAM;YAC3B;YACA8C,iBAAiB;gBACfR,QAAQvC,KAAKC,EAAE;gBACfuC,SAASxC,KAAKC,EAAE;gBAChBwC,WAAWzC,KAAKC,EAAE,CAAC,IAAM;YAC3B;QACF,CAAA;IAEA+C,QAAQhD,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,IAAO,CAAA;YAC1C+C,WAAWjD,KAAKC,EAAE,GAAGiD,cAAc;YACnCC,OAAOnD,KAAKC,EAAE,GAAGiD,cAAc;YAC/B7C,QAAQL,KAAKC,EAAE;YACfmD,YAAYpD,KAAKC,EAAE,CAAC,IAAMoD,SAASC,aAAa,CAAC;YACjDC,UAAUvD,KAAKC,EAAE,GAAGiD,cAAc;YAClCM,aAAaxD,KAAKC,EAAE;YACpBwD,UAAUzD,KAAKC,EAAE;YACjByD,WAAW1D,KAAKC,EAAE,GAAGiD,cAAc;YACnCS,cAAc3D,KAAKC,EAAE,GAAGiD,cAAc;YACtCU,aAAa5D,KAAKC,EAAE,CAAC,IAAM;YAC3B4D,aAAa7D,KAAKC,EAAE,GAAGiD,cAAc;YACrCY,aAAa9D,KAAKC,EAAE,CAAC,IAAM;YAC3B8D,sBAAsB/D,KAAKC,EAAE,GAAGiD,cAAc;YAC9Cc,sBAAsBhE,KAAKC,EAAE,CAAC,IAAM;YACpCgE,mBAAmBjE,KAAKC,EAAE,GAAGiD,cAAc;YAC3CgB,mBAAmBlE,KAAKC,EAAE,CAAC,IAAM;QACnC,CAAA;IAEAkE,OAAOnE,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,IAAO,CAAA;YACzC+C,WAAWjD,KAAKC,EAAE,GAAGiD,cAAc;YACnCkB,SAASpE,KAAKC,EAAE,GAAGiD,cAAc;YACjCmB,SAASrE,KAAKC,EAAE,GAAGiD,cAAc;YACjCoB,eAAetE,KAAKC,EAAE,GAAGiD,cAAc;YACvCC,OAAOnD,KAAKC,EAAE,GAAGiD,cAAc;YAC/B7C,QAAQL,KAAKC,EAAE;YACfsE,QAAQvE,KAAKC,EAAE,CAAC,IAAM;YACtBuE,WAAWxE,KAAKC,EAAE,CAAC,IAAO,CAAA;oBAAEe,KAAK;oBAAQC,KAAK;gBAAQ,CAAA;YACtDyC,WAAW1D,KAAKC,EAAE,GAAGiD,cAAc;YACnCuB,cAAczE,KAAKC,EAAE,GAAGiD,cAAc;YACtCwB,iBAAiB1E,KAAKC,EAAE,GAAGiD,cAAc;YACzCyB,aAAa3E,KAAKC,EAAE,GAAGiD,cAAc;YACrC0B,iBAAiB5E,KAAKC,EAAE,GAAGiD,cAAc;QAC3C,CAAA;IAEA2B,mBAAmB7E,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,IAAO,CAAA;YACrD4E,OAAO9E,KAAKC,EAAE;YACd8E,UAAU/E,KAAKC,EAAE;QACnB,CAAA;IAEA+E,kBAAkBhF,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,IAAO,CAAA;YACpD4E,OAAO9E,KAAKC,EAAE;YACd8E,UAAU/E,KAAKC,EAAE;YACjBgF,SAASjF,KAAKC,EAAE;QAClB,CAAA;IAEAiF,mBAAmBlF,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,IAAO,CAAA;YACrD4E,OAAO9E,KAAKC,EAAE;YACd8E,UAAU/E,KAAKC,EAAE;QACnB,CAAA;IAEAkF,cAAcnF,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,IAAO,CAAA;YAChD4E,OAAO9E,KAAKC,EAAE;YACd8E,UAAU/E,KAAKC,EAAE;QACnB,CAAA;IAEAmF,oBAAoBpF,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,IAAO,CAAA;YACtD4E,OAAO9E,KAAKC,EAAE;YACd8E,UAAU/E,KAAKC,EAAE;QACnB,CAAA;IAEA,oBAAoB;IACpBoF,aAAa;IACbC,SAAS;IACTC,WAAWvF,KAAKC,EAAE,CAAC,IAAM;IACzBuF,kBAAkBxF,KAAKC,EAAE;IACzBwF,wBAAwBzF,KAAKC,EAAE,CAAC,IAAM;IAEtC,gBAAgB;IAChByF,aAAa,MAAMC;IAAiB;IACpCC,eAAe,MAAMC;IAAmB;IACxCC,eAAe,MAAMC;IAAmB;IACxCC,eAAe,MAAMC;IAAmB;IAExC,YAAY;IACZC,cAAclG,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,IAAO,CAAA;YAChDiG,QAAQnG,KAAKC,EAAE,GAAGiD,cAAc;YAChCnC,WAAWf,KAAKC,EAAE,CAAC,IAAO,CAAA;oBAAEe,KAAK;oBAAQC,KAAK;gBAAQ,CAAA;YACtDM,cAAcvB,KAAKC,EAAE,CAAC,IAAO,CAAA;oBAAEe,KAAK;oBAAGC,KAAK;gBAAG,CAAA;YAC/CK,cAActB,KAAKC,EAAE,CAAC,IAAO,CAAA;oBAAEe,KAAK;oBAAGC,KAAK;gBAAG,CAAA;YAC/CmF,UAAUpG,KAAKC,EAAE,CAAC,IAAM;YACxBoG,SAASrG,KAAKC,EAAE,CAAC,IAAM;YACvBqG,UAAUtG,KAAKC,EAAE,CAAC,IAAM;YACxBsG,SAASvG,KAAKC,EAAE,CAAC,IAAM;YACvBuG,SAASxG,KAAKC,EAAE,CAAC,IAAM;oBACrB;wBAAC;wBAAG;qBAAG;oBACP;wBAAC;wBAAG;qBAAG;iBACR;QACH,CAAA;IAEAwG,QAAQzG,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,CAACc,KAAKC,MAAS,CAAA;YAClDD,KAAKA,OAAO;YACZC,KAAKA,OAAO;YACZyF,MAAM1G,KAAKC,EAAE,GAAGiD,cAAc;YAC9BsD,SAASxG,KAAKC,EAAE,CAAC,IAAM;oBAACe,OAAO;oBAAQC,OAAO;iBAAQ;YACtD0F,UAAU3G,KAAKC,EAAE,CAAC,IAAM,CAAC,OAAO,EAAEe,OAAO,OAAO,EAAE,EAAEC,OAAO,QAAQ,CAAC,CAAC;YACrE2F,UAAU5G,KAAKC,EAAE,CAAC,IAAM,IAAIH,aAAaoG,YAAY;YACrDW,YAAY7G,KAAKC,EAAE,CAAC,IAAM;QAC5B,CAAA;IAEA6G,OAAO9G,KAAKC,EAAE,GAAGC,kBAAkB,CAAC,CAACwB,GAAGC,IAAO,CAAA;YAC7CD,GAAGA,KAAK;YACRC,GAAGA,KAAK;YACRoF,OAAO/G,KAAKC,EAAE,GAAGiD,cAAc;YAC/B8D,KAAKhH,KAAKC,EAAE,GAAGiD,cAAc;YAC7B+D,KAAKjH,KAAKC,EAAE,GAAGiD,cAAc;YAC7BgE,MAAMlH,KAAKC,EAAE,GAAGiD,cAAc;YAC9BiE,KAAKnH,KAAKC,EAAE,GAAGiD,cAAc;YAC7BkE,QAAQpH,KAAKC,EAAE,GAAGiD,cAAc;YAChCmE,SAASrH,KAAKC,EAAE,GAAGiD,cAAc;YACjCoE,MAAMtH,KAAKC,EAAE,GAAGiD,cAAc;YAC9BqE,MAAMvH,KAAKC,EAAE,GAAGiD,cAAc;YAC9BsE,OAAOxH,KAAKC,EAAE,GAAGiD,cAAc;YAC/BuE,KAAKzH,KAAKC,EAAE,CAAC,IAAMyH,KAAKC,IAAI,CAACjG,IAAIA,IAAIC,IAAIA,MAAM;YAC/CiG,QAAQ5H,KAAKC,EAAE,CAAC,IAAM;YACtB4H,MAAM7H,KAAKC,EAAE,CAAC,IAAM;YACpB6H,SAAS9H,KAAKC,EAAE,CAAC,IAAM;YACvB8H,OAAO/H,KAAKC,EAAE,CAAC,IAAM;YACrB+H,SAAShI,KAAKC,EAAE,CAAC,IAAM;YACvBgI,WAAWjI,KAAKC,EAAE,CAAC,IAAM;YACzBiI,cAAclI,KAAKC,EAAE,CAAC,IAAM;QAC9B,CAAA;AACF;AAEAkI,OAAOC,OAAO,GAAGtI;AACjBqI,OAAOC,OAAO,CAACC,OAAO,GAAGvI"}