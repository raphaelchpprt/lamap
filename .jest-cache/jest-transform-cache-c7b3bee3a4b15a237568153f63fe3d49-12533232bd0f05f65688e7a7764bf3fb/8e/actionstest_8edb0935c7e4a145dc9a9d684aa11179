b740c8fa19ec4de8fd31e4362949d23e
/**
 * Tests for Server Actions
 *
 * These tests verify the CRUD operations for initiatives,
 * including validation, authentication, and authorization.
 */ "use strict";
// Mock dependencies
jest.mock('next/cache');
jest.mock('@/lib/supabase/server');
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _cache = require("next/cache");
const _actions = require("../../app/actions");
const _server = require("../../lib/supabase/server");
const mockCreateClient = _server.createClient;
const mockRevalidatePath = _cache.revalidatePath;
describe('Server Actions', ()=>{
    // Mock Supabase client
    let mockSupabase;
    beforeEach(()=>{
        // Reset mocks
        jest.clearAllMocks();
        // Setup mock Supabase client
        mockSupabase = {
            auth: {
                getUser: jest.fn()
            },
            from: jest.fn().mockReturnThis(),
            insert: jest.fn().mockReturnThis(),
            update: jest.fn().mockReturnThis(),
            delete: jest.fn().mockReturnThis(),
            select: jest.fn().mockReturnThis(),
            eq: jest.fn().mockReturnThis(),
            single: jest.fn()
        };
        mockCreateClient.mockResolvedValue(mockSupabase);
    });
    describe('createInitiative', ()=>{
        const validData = {
            name: 'Test Initiative',
            type: 'AMAP',
            description: 'A test initiative',
            address: '123 Test Street',
            latitude: 48.8566,
            longitude: 2.3522,
            website: 'https://test.com',
            phone: '0123456789',
            email: 'test@test.com'
        };
        it('should create an initiative successfully', async ()=>{
            // Mock authenticated user
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: {
                        id: 'user123'
                    }
                },
                error: null
            });
            // Mock successful insert
            mockSupabase.single.mockResolvedValue({
                data: {
                    id: 'initiative123'
                },
                error: null
            });
            const result = await (0, _actions.createInitiative)(validData);
            expect(result.success).toBe(true);
            expect(result.data?.id).toBe('initiative123');
            expect(mockRevalidatePath).toHaveBeenCalledWith('/');
        });
        it('should fail if user is not authenticated', async ()=>{
            // Mock unauthenticated
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: null
                },
                error: null
            });
            const result = await (0, _actions.createInitiative)(validData);
            expect(result.success).toBe(false);
            expect(result.error).toContain('connecté');
            expect(mockRevalidatePath).not.toHaveBeenCalled();
        });
        it('should validate name length (minimum 3 characters)', async ()=>{
            const result = await (0, _actions.createInitiative)({
                ...validData,
                name: 'AB'
            });
            expect(result.success).toBe(false);
            expect(result.error).toContain('3 caractères');
        });
        it('should validate latitude bounds (-90 to 90)', async ()=>{
            const result = await (0, _actions.createInitiative)({
                ...validData,
                latitude: 91
            });
            expect(result.success).toBe(false);
            expect(result.error).toContain('Latitude');
        });
        it('should validate longitude bounds (-180 to 180)', async ()=>{
            const result = await (0, _actions.createInitiative)({
                ...validData,
                longitude: 181
            });
            expect(result.success).toBe(false);
            expect(result.error).toContain('Longitude');
        });
        it('should handle database errors gracefully', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: {
                        id: 'user123'
                    }
                },
                error: null
            });
            mockSupabase.single.mockResolvedValue({
                data: null,
                error: {
                    message: 'Database error'
                }
            });
            const result = await (0, _actions.createInitiative)(validData);
            expect(result.success).toBe(false);
            expect(result.error).toContain('Database error');
        });
    });
    describe('updateInitiative', ()=>{
        const updateData = {
            name: 'Updated Initiative',
            description: 'Updated description'
        };
        it('should update an initiative successfully', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: {
                        id: 'user123'
                    }
                },
                error: null
            });
            // Mock ownership check
            mockSupabase.single.mockResolvedValueOnce({
                data: {
                    user_id: 'user123'
                },
                error: null
            });
            // Mock successful update
            mockSupabase.eq.mockResolvedValue({
                error: null
            });
            const result = await (0, _actions.updateInitiative)('initiative123', updateData);
            expect(result.success).toBe(true);
            expect(mockRevalidatePath).toHaveBeenCalledWith('/');
        });
        it('should fail if user is not authenticated', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: null
                },
                error: null
            });
            const result = await (0, _actions.updateInitiative)('initiative123', updateData);
            expect(result.success).toBe(false);
            expect(result.error).toContain('connecté');
        });
        it('should fail if user does not own the initiative', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: {
                        id: 'user123'
                    }
                },
                error: null
            });
            // Mock initiative owned by different user
            mockSupabase.single.mockResolvedValue({
                data: {
                    user_id: 'otherUser'
                },
                error: null
            });
            const result = await (0, _actions.updateInitiative)('initiative123', updateData);
            expect(result.success).toBe(false);
            expect(result.error).toContain('autorisé');
        });
        it('should validate updated name length', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: {
                        id: 'user123'
                    }
                },
                error: null
            });
            mockSupabase.single.mockResolvedValue({
                data: {
                    user_id: 'user123'
                },
                error: null
            });
            const result = await (0, _actions.updateInitiative)('initiative123', {
                name: 'AB'
            });
            expect(result.success).toBe(false);
            expect(result.error).toContain('3 caractères');
        });
    });
    describe('deleteInitiative', ()=>{
        it('should delete an initiative successfully', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: {
                        id: 'user123'
                    }
                },
                error: null
            });
            // Mock ownership check
            mockSupabase.single.mockResolvedValue({
                data: {
                    user_id: 'user123'
                },
                error: null
            });
            // Mock successful delete
            mockSupabase.eq.mockResolvedValue({
                error: null
            });
            const result = await (0, _actions.deleteInitiative)('initiative123');
            expect(result.success).toBe(true);
            expect(mockRevalidatePath).toHaveBeenCalledWith('/');
        });
        it('should fail if user is not authenticated', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: null
                },
                error: null
            });
            const result = await (0, _actions.deleteInitiative)('initiative123');
            expect(result.success).toBe(false);
            expect(result.error).toContain('connecté');
        });
        it('should fail if user does not own the initiative', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: {
                        id: 'user123'
                    }
                },
                error: null
            });
            mockSupabase.single.mockResolvedValue({
                data: {
                    user_id: 'otherUser'
                },
                error: null
            });
            const result = await (0, _actions.deleteInitiative)('initiative123');
            expect(result.success).toBe(false);
            expect(result.error).toContain('supprimer');
        });
        it('should fail if initiative does not exist', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: {
                        id: 'user123'
                    }
                },
                error: null
            });
            mockSupabase.single.mockResolvedValue({
                data: null,
                error: {
                    message: 'Not found'
                }
            });
            const result = await (0, _actions.deleteInitiative)('nonexistent');
            expect(result.success).toBe(false);
            expect(result.error).toContain('trouvée');
        });
    });
    describe('verifyInitiative', ()=>{
        it('should verify an initiative successfully', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: {
                        id: 'admin123'
                    }
                },
                error: null
            });
            mockSupabase.eq.mockResolvedValue({
                error: null
            });
            const result = await (0, _actions.verifyInitiative)('initiative123', true);
            expect(result.success).toBe(true);
            expect(mockRevalidatePath).toHaveBeenCalledWith('/');
        });
        it('should unverify an initiative successfully', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: {
                        id: 'admin123'
                    }
                },
                error: null
            });
            mockSupabase.eq.mockResolvedValue({
                error: null
            });
            const result = await (0, _actions.verifyInitiative)('initiative123', false);
            expect(result.success).toBe(true);
        });
        it('should fail if user is not authenticated', async ()=>{
            mockSupabase.auth.getUser.mockResolvedValue({
                data: {
                    user: null
                },
                error: null
            });
            const result = await (0, _actions.verifyInitiative)('initiative123', true);
            expect(result.success).toBe(false);
            expect(result.error).toContain('connecté');
        });
    });
    describe('getInitiativeById', ()=>{
        it('should fetch an initiative successfully', async ()=>{
            const mockInitiative = {
                id: 'initiative123',
                name: 'Test Initiative',
                type: 'AMAP',
                description: 'A test',
                address: '123 Test St',
                website: 'https://test.com',
                phone: '0123456789',
                email: 'test@test.com',
                verified: true,
                created_at: '2025-01-01T00:00:00Z'
            };
            mockSupabase.single.mockResolvedValue({
                data: mockInitiative,
                error: null
            });
            const result = await (0, _actions.getInitiativeById)('initiative123');
            expect(result.success).toBe(true);
            expect(result.data?.id).toBe('initiative123');
            expect(result.data?.name).toBe('Test Initiative');
        });
        it('should fail if initiative does not exist', async ()=>{
            mockSupabase.single.mockResolvedValue({
                data: null,
                error: {
                    message: 'Not found'
                }
            });
            const result = await (0, _actions.getInitiativeById)('nonexistent');
            expect(result.success).toBe(false);
            expect(result.error).toContain('trouvée');
        });
        it('should validate ID format', async ()=>{
            const result = await (0, _actions.getInitiativeById)('');
            expect(result.success).toBe(false);
            expect(result.error).toContain('valide');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9SYXBoYWVsL0RvY3VtZW50cy9ERVYubm9zeW5jL2xhbWFwL3NyYy9fX3Rlc3RzX18vYXBwL2FjdGlvbnMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRlc3RzIGZvciBTZXJ2ZXIgQWN0aW9uc1xuICpcbiAqIFRoZXNlIHRlc3RzIHZlcmlmeSB0aGUgQ1JVRCBvcGVyYXRpb25zIGZvciBpbml0aWF0aXZlcyxcbiAqIGluY2x1ZGluZyB2YWxpZGF0aW9uLCBhdXRoZW50aWNhdGlvbiwgYW5kIGF1dGhvcml6YXRpb24uXG4gKi9cblxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tICduZXh0L2NhY2hlJztcblxuaW1wb3J0IHtcbiAgY3JlYXRlSW5pdGlhdGl2ZSxcbiAgZGVsZXRlSW5pdGlhdGl2ZSxcbiAgZ2V0SW5pdGlhdGl2ZUJ5SWQsXG4gIHVwZGF0ZUluaXRpYXRpdmUsXG4gIHZlcmlmeUluaXRpYXRpdmUsXG59IGZyb20gJ0AvYXBwL2FjdGlvbnMnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQC9saWIvc3VwYWJhc2Uvc2VydmVyJztcblxuLy8gTW9jayBkZXBlbmRlbmNpZXNcbmplc3QubW9jaygnbmV4dC9jYWNoZScpO1xuamVzdC5tb2NrKCdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInKTtcblxuY29uc3QgbW9ja0NyZWF0ZUNsaWVudCA9IGNyZWF0ZUNsaWVudCBhcyBqZXN0Lk1vY2tlZEZ1bmN0aW9uPFxuICB0eXBlb2YgY3JlYXRlQ2xpZW50XG4+O1xuY29uc3QgbW9ja1JldmFsaWRhdGVQYXRoID0gcmV2YWxpZGF0ZVBhdGggYXMgamVzdC5Nb2NrZWRGdW5jdGlvbjxcbiAgdHlwZW9mIHJldmFsaWRhdGVQYXRoXG4+O1xuXG5kZXNjcmliZSgnU2VydmVyIEFjdGlvbnMnLCAoKSA9PiB7XG4gIC8vIE1vY2sgU3VwYWJhc2UgY2xpZW50XG4gIGxldCBtb2NrU3VwYWJhc2U6IGFueTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBSZXNldCBtb2Nrc1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuXG4gICAgLy8gU2V0dXAgbW9jayBTdXBhYmFzZSBjbGllbnRcbiAgICBtb2NrU3VwYWJhc2UgPSB7XG4gICAgICBhdXRoOiB7XG4gICAgICAgIGdldFVzZXI6IGplc3QuZm4oKSxcbiAgICAgIH0sXG4gICAgICBmcm9tOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIGluc2VydDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICB1cGRhdGU6IGplc3QuZm4oKS5tb2NrUmV0dXJuVGhpcygpLFxuICAgICAgZGVsZXRlOiBqZXN0LmZuKCkubW9ja1JldHVyblRoaXMoKSxcbiAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBlcTogamVzdC5mbigpLm1vY2tSZXR1cm5UaGlzKCksXG4gICAgICBzaW5nbGU6IGplc3QuZm4oKSxcbiAgICB9O1xuXG4gICAgbW9ja0NyZWF0ZUNsaWVudC5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrU3VwYWJhc2UpO1xuICB9KTtcblxuICBkZXNjcmliZSgnY3JlYXRlSW5pdGlhdGl2ZScsICgpID0+IHtcbiAgICBjb25zdCB2YWxpZERhdGEgPSB7XG4gICAgICBuYW1lOiAnVGVzdCBJbml0aWF0aXZlJyxcbiAgICAgIHR5cGU6ICdBTUFQJyBhcyBjb25zdCxcbiAgICAgIGRlc2NyaXB0aW9uOiAnQSB0ZXN0IGluaXRpYXRpdmUnLFxuICAgICAgYWRkcmVzczogJzEyMyBUZXN0IFN0cmVldCcsXG4gICAgICBsYXRpdHVkZTogNDguODU2NixcbiAgICAgIGxvbmdpdHVkZTogMi4zNTIyLFxuICAgICAgd2Vic2l0ZTogJ2h0dHBzOi8vdGVzdC5jb20nLFxuICAgICAgcGhvbmU6ICcwMTIzNDU2Nzg5JyxcbiAgICAgIGVtYWlsOiAndGVzdEB0ZXN0LmNvbScsXG4gICAgfTtcblxuICAgIGl0KCdzaG91bGQgY3JlYXRlIGFuIGluaXRpYXRpdmUgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBhdXRoZW50aWNhdGVkIHVzZXJcbiAgICAgIG1vY2tTdXBhYmFzZS5hdXRoLmdldFVzZXIubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHVzZXI6IHsgaWQ6ICd1c2VyMTIzJyB9IH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgc3VjY2Vzc2Z1bCBpbnNlcnRcbiAgICAgIG1vY2tTdXBhYmFzZS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IGlkOiAnaW5pdGlhdGl2ZTEyMycgfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlSW5pdGlhdGl2ZSh2YWxpZERhdGEpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmRhdGE/LmlkKS50b0JlKCdpbml0aWF0aXZlMTIzJyk7XG4gICAgICBleHBlY3QobW9ja1JldmFsaWRhdGVQYXRoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnLycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmYWlsIGlmIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHVuYXV0aGVudGljYXRlZFxuICAgICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0VXNlci5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogbnVsbCB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVJbml0aWF0aXZlKHZhbGlkRGF0YSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ2Nvbm5lY3TDqScpO1xuICAgICAgZXhwZWN0KG1vY2tSZXZhbGlkYXRlUGF0aCkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgbmFtZSBsZW5ndGggKG1pbmltdW0gMyBjaGFyYWN0ZXJzKScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZUluaXRpYXRpdmUoe1xuICAgICAgICAuLi52YWxpZERhdGEsXG4gICAgICAgIG5hbWU6ICdBQicsIC8vIFRvbyBzaG9ydFxuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJzMgY2FyYWN0w6hyZXMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgbGF0aXR1ZGUgYm91bmRzICgtOTAgdG8gOTApJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlSW5pdGlhdGl2ZSh7XG4gICAgICAgIC4uLnZhbGlkRGF0YSxcbiAgICAgICAgbGF0aXR1ZGU6IDkxLCAvLyBPdXQgb2YgYm91bmRzXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignTGF0aXR1ZGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgbG9uZ2l0dWRlIGJvdW5kcyAoLTE4MCB0byAxODApJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY3JlYXRlSW5pdGlhdGl2ZSh7XG4gICAgICAgIC4uLnZhbGlkRGF0YSxcbiAgICAgICAgbG9uZ2l0dWRlOiAxODEsIC8vIE91dCBvZiBib3VuZHNcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCdMb25naXR1ZGUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRhdGFiYXNlIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0VXNlci5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogeyBpZDogJ3VzZXIxMjMnIH0gfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgbW9ja1N1cGFiYXNlLnNpbmdsZS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yOiB7IG1lc3NhZ2U6ICdEYXRhYmFzZSBlcnJvcicgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBjcmVhdGVJbml0aWF0aXZlKHZhbGlkRGF0YSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ0RhdGFiYXNlIGVycm9yJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd1cGRhdGVJbml0aWF0aXZlJywgKCkgPT4ge1xuICAgIGNvbnN0IHVwZGF0ZURhdGEgPSB7XG4gICAgICBuYW1lOiAnVXBkYXRlZCBJbml0aWF0aXZlJyxcbiAgICAgIGRlc2NyaXB0aW9uOiAnVXBkYXRlZCBkZXNjcmlwdGlvbicsXG4gICAgfTtcblxuICAgIGl0KCdzaG91bGQgdXBkYXRlIGFuIGluaXRpYXRpdmUgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0VXNlci5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogeyBpZDogJ3VzZXIxMjMnIH0gfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBvd25lcnNoaXAgY2hlY2tcbiAgICAgIG1vY2tTdXBhYmFzZS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyX2lkOiAndXNlcjEyMycgfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIHVwZGF0ZVxuICAgICAgbW9ja1N1cGFiYXNlLmVxLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlSW5pdGlhdGl2ZSgnaW5pdGlhdGl2ZTEyMycsIHVwZGF0ZURhdGEpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QobW9ja1JldmFsaWRhdGVQYXRoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnLycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmYWlsIGlmIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyOiBudWxsIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZUluaXRpYXRpdmUoJ2luaXRpYXRpdmUxMjMnLCB1cGRhdGVEYXRhKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignY29ubmVjdMOpJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgaWYgdXNlciBkb2VzIG5vdCBvd24gdGhlIGluaXRpYXRpdmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyOiB7IGlkOiAndXNlcjEyMycgfSB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICAvLyBNb2NrIGluaXRpYXRpdmUgb3duZWQgYnkgZGlmZmVyZW50IHVzZXJcbiAgICAgIG1vY2tTdXBhYmFzZS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHVzZXJfaWQ6ICdvdGhlclVzZXInIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHVwZGF0ZUluaXRpYXRpdmUoJ2luaXRpYXRpdmUxMjMnLCB1cGRhdGVEYXRhKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignYXV0b3Jpc8OpJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHVwZGF0ZWQgbmFtZSBsZW5ndGgnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyOiB7IGlkOiAndXNlcjEyMycgfSB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrU3VwYWJhc2Uuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyX2lkOiAndXNlcjEyMycgfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdXBkYXRlSW5pdGlhdGl2ZSgnaW5pdGlhdGl2ZTEyMycsIHtcbiAgICAgICAgbmFtZTogJ0FCJywgLy8gVG9vIHNob3J0XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignMyBjYXJhY3TDqHJlcycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZGVsZXRlSW5pdGlhdGl2ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRlbGV0ZSBhbiBpbml0aWF0aXZlIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5hdXRoLmdldFVzZXIubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHVzZXI6IHsgaWQ6ICd1c2VyMTIzJyB9IH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIC8vIE1vY2sgb3duZXJzaGlwIGNoZWNrXG4gICAgICBtb2NrU3VwYWJhc2Uuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyX2lkOiAndXNlcjEyMycgfSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIGRlbGV0ZVxuICAgICAgbW9ja1N1cGFiYXNlLmVxLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGVsZXRlSW5pdGlhdGl2ZSgnaW5pdGlhdGl2ZTEyMycpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QobW9ja1JldmFsaWRhdGVQYXRoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnLycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmYWlsIGlmIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyOiBudWxsIH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRlbGV0ZUluaXRpYXRpdmUoJ2luaXRpYXRpdmUxMjMnKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5zdWNjZXNzKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQ29udGFpbignY29ubmVjdMOpJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgaWYgdXNlciBkb2VzIG5vdCBvd24gdGhlIGluaXRpYXRpdmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyOiB7IGlkOiAndXNlcjEyMycgfSB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrU3VwYWJhc2Uuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyX2lkOiAnb3RoZXJVc2VyJyB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkZWxldGVJbml0aWF0aXZlKCdpbml0aWF0aXZlMTIzJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ3N1cHByaW1lcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmYWlsIGlmIGluaXRpYXRpdmUgZG9lcyBub3QgZXhpc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrU3VwYWJhc2UuYXV0aC5nZXRVc2VyLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogeyB1c2VyOiB7IGlkOiAndXNlcjEyMycgfSB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrU3VwYWJhc2Uuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ05vdCBmb3VuZCcgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBkZWxldGVJbml0aWF0aXZlKCdub25leGlzdGVudCcpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCd0cm91dsOpZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndmVyaWZ5SW5pdGlhdGl2ZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHZlcmlmeSBhbiBpbml0aWF0aXZlIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5hdXRoLmdldFVzZXIubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHVzZXI6IHsgaWQ6ICdhZG1pbjEyMycgfSB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrU3VwYWJhc2UuZXEubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2ZXJpZnlJbml0aWF0aXZlKCdpbml0aWF0aXZlMTIzJywgdHJ1ZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrUmV2YWxpZGF0ZVBhdGgpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHVudmVyaWZ5IGFuIGluaXRpYXRpdmUgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0VXNlci5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogeyBpZDogJ2FkbWluMTIzJyB9IH0sXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIG1vY2tTdXBhYmFzZS5lcS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHZlcmlmeUluaXRpYXRpdmUoJ2luaXRpYXRpdmUxMjMnLCBmYWxzZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmFpbCBpZiB1c2VyIGlzIG5vdCBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1N1cGFiYXNlLmF1dGguZ2V0VXNlci5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogbnVsbCB9LFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2ZXJpZnlJbml0aWF0aXZlKCdpbml0aWF0aXZlMTIzJywgdHJ1ZSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ2Nvbm5lY3TDqScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0SW5pdGlhdGl2ZUJ5SWQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmZXRjaCBhbiBpbml0aWF0aXZlIHN1Y2Nlc3NmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG1vY2tJbml0aWF0aXZlID0ge1xuICAgICAgICBpZDogJ2luaXRpYXRpdmUxMjMnLFxuICAgICAgICBuYW1lOiAnVGVzdCBJbml0aWF0aXZlJyxcbiAgICAgICAgdHlwZTogJ0FNQVAnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0EgdGVzdCcsXG4gICAgICAgIGFkZHJlc3M6ICcxMjMgVGVzdCBTdCcsXG4gICAgICAgIHdlYnNpdGU6ICdodHRwczovL3Rlc3QuY29tJyxcbiAgICAgICAgcGhvbmU6ICcwMTIzNDU2Nzg5JyxcbiAgICAgICAgZW1haWw6ICd0ZXN0QHRlc3QuY29tJyxcbiAgICAgICAgdmVyaWZpZWQ6IHRydWUsXG4gICAgICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTAxVDAwOjAwOjAwWicsXG4gICAgICB9O1xuXG4gICAgICBtb2NrU3VwYWJhc2Uuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogbW9ja0luaXRpYXRpdmUsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldEluaXRpYXRpdmVCeUlkKCdpbml0aWF0aXZlMTIzJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8uaWQpLnRvQmUoJ2luaXRpYXRpdmUxMjMnKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZGF0YT8ubmFtZSkudG9CZSgnVGVzdCBJbml0aWF0aXZlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZhaWwgaWYgaW5pdGlhdGl2ZSBkb2VzIG5vdCBleGlzdCcsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTdXBhYmFzZS5zaW5nbGUubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICBlcnJvcjogeyBtZXNzYWdlOiAnTm90IGZvdW5kJyB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGdldEluaXRpYXRpdmVCeUlkKCdub25leGlzdGVudCcpO1xuXG4gICAgICBleHBlY3QocmVzdWx0LnN1Y2Nlc3MpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9Db250YWluKCd0cm91dsOpZScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBJRCBmb3JtYXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRJbml0aWF0aXZlQnlJZCgnJyk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuc3VjY2VzcykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0NvbnRhaW4oJ3ZhbGlkZScpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwibW9ja0NyZWF0ZUNsaWVudCIsImNyZWF0ZUNsaWVudCIsIm1vY2tSZXZhbGlkYXRlUGF0aCIsInJldmFsaWRhdGVQYXRoIiwiZGVzY3JpYmUiLCJtb2NrU3VwYWJhc2UiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImF1dGgiLCJnZXRVc2VyIiwiZm4iLCJmcm9tIiwibW9ja1JldHVyblRoaXMiLCJpbnNlcnQiLCJ1cGRhdGUiLCJkZWxldGUiLCJzZWxlY3QiLCJlcSIsInNpbmdsZSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwidmFsaWREYXRhIiwibmFtZSIsInR5cGUiLCJkZXNjcmlwdGlvbiIsImFkZHJlc3MiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsIndlYnNpdGUiLCJwaG9uZSIsImVtYWlsIiwiaXQiLCJkYXRhIiwidXNlciIsImlkIiwiZXJyb3IiLCJyZXN1bHQiLCJjcmVhdGVJbml0aWF0aXZlIiwiZXhwZWN0Iiwic3VjY2VzcyIsInRvQmUiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRvQ29udGFpbiIsIm5vdCIsInRvSGF2ZUJlZW5DYWxsZWQiLCJtZXNzYWdlIiwidXBkYXRlRGF0YSIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsInVzZXJfaWQiLCJ1cGRhdGVJbml0aWF0aXZlIiwiZGVsZXRlSW5pdGlhdGl2ZSIsInZlcmlmeUluaXRpYXRpdmUiLCJtb2NrSW5pdGlhdGl2ZSIsInZlcmlmaWVkIiwiY3JlYXRlZF9hdCIsImdldEluaXRpYXRpdmVCeUlkIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Q0FLQztBQWFELG9CQUFvQjtBQUNwQkEsS0FBS0MsSUFBSSxDQUFDO0FBQ1ZELEtBQUtDLElBQUksQ0FBQzs7Ozt1QkFicUI7eUJBUXhCO3dCQUNzQjtBQU03QixNQUFNQyxtQkFBbUJDLG9CQUFZO0FBR3JDLE1BQU1DLHFCQUFxQkMscUJBQWM7QUFJekNDLFNBQVMsa0JBQWtCO0lBQ3pCLHVCQUF1QjtJQUN2QixJQUFJQztJQUVKQyxXQUFXO1FBQ1QsY0FBYztRQUNkUixLQUFLUyxhQUFhO1FBRWxCLDZCQUE2QjtRQUM3QkYsZUFBZTtZQUNiRyxNQUFNO2dCQUNKQyxTQUFTWCxLQUFLWSxFQUFFO1lBQ2xCO1lBQ0FDLE1BQU1iLEtBQUtZLEVBQUUsR0FBR0UsY0FBYztZQUM5QkMsUUFBUWYsS0FBS1ksRUFBRSxHQUFHRSxjQUFjO1lBQ2hDRSxRQUFRaEIsS0FBS1ksRUFBRSxHQUFHRSxjQUFjO1lBQ2hDRyxRQUFRakIsS0FBS1ksRUFBRSxHQUFHRSxjQUFjO1lBQ2hDSSxRQUFRbEIsS0FBS1ksRUFBRSxHQUFHRSxjQUFjO1lBQ2hDSyxJQUFJbkIsS0FBS1ksRUFBRSxHQUFHRSxjQUFjO1lBQzVCTSxRQUFRcEIsS0FBS1ksRUFBRTtRQUNqQjtRQUVBVixpQkFBaUJtQixpQkFBaUIsQ0FBQ2Q7SUFDckM7SUFFQUQsU0FBUyxvQkFBb0I7UUFDM0IsTUFBTWdCLFlBQVk7WUFDaEJDLE1BQU07WUFDTkMsTUFBTTtZQUNOQyxhQUFhO1lBQ2JDLFNBQVM7WUFDVEMsVUFBVTtZ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